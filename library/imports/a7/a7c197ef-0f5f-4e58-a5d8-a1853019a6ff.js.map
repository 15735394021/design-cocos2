{"version":3,"sources":["assets\\script\\myDrug.js"],"names":["cc","Class","Component","properties","drugName","num","addHp","addMp","onLoad","node","on","Node","EventType","MOUSE_ENTER","event","getChildByName","color","Color","scale","MOUSE_LEAVE","active","MOUSE_DOWN","getComponent","Label","string","self","loader","loadRes","SpriteFrame","err","spriteFrame","length","Sprite","onDestroy","releaseRes","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        drugName:null,\r\n        num:null,\r\n        addHp:null,\r\n        addMp:null\r\n    },\r\n\r\n    onLoad () {\r\n\r\n        //为每个结点绑定事件\r\n        // 使用枚举类型来注册\r\n        this.node.on(cc.Node.EventType.MOUSE_ENTER, function (event) {  //鼠标移入\r\n            this.node.getChildByName(\"ground\").color = new cc.Color(100,100,100);\r\n            this.node.scale = 1.2;\r\n        }, this);\r\n\r\n        this.node.on(cc.Node.EventType.MOUSE_LEAVE, function (event) { //鼠标移出\r\n            this.node.getChildByName(\"ground\").color = new cc.Color(104,105,91,255);\r\n            this.node.scale = 1;\r\n            this.node.getChildByName(\"used\").active = false;\r\n        }, this);\r\n\r\n        this.node.on(cc.Node.EventType.MOUSE_DOWN, function (event) {  //鼠标点击\r\n            if(this.num == 0){\r\n                this.node.getChildByName(\"used\").getChildByName(\"context\").getComponent(cc.Label).string = \"该药品已经用完了\";\r\n            }\r\n            this.node.getChildByName(\"used\").getChildByName(\"context\").getComponent(cc.Label).string = \"使用该药品吗？\";\r\n            this.node.getChildByName(\"used\").active = true;\r\n        }, this);\r\n\r\n        this.node.getChildByName(\"used\").active = false;\r\n        var self = this;\r\n        cc.loader.loadRes(self.drugName, cc.SpriteFrame, function (err, spriteFrame) {\r\n            if(spriteFrame.length != 0){\r\n                self.node.getChildByName(\"image\").getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            }\r\n        });\r\n        if(self.num != null){\r\n            self.node.getChildByName(\"num\").getComponent(cc.Label).string = self.num;\r\n        }\r\n        self.node.getChildByName(\"name\").getComponent(cc.Label).string = self.drugName;\r\n        self.node.getChildByName(\"content\").getComponent(cc.Label).string = \"hp+:\"+this.addHp+\"\\nmp+:\"+this.addMp;\r\n    },\r\n\r\n    onDestroy(){\r\n        cc.loader.releaseRes(this.drugName, cc.SpriteFrame); //图片资源释放\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}