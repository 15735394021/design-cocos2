{"version":3,"sources":["assets\\script\\myPackage.js"],"names":["cc","Class","Component","properties","myDrugsDetail","type","Prefab","myPropDetail","onLoad","myUrl","game","baseUrl","xhr","XMLHttpRequest","onreadystatechange","readyState","status","response","JSON","parse","responseText","data","drugs","prop","node","getChildByName","height","i","Math","ceil","length","j","myDrugNode","instantiate","myDrugJs","getComponent","drugName","num","drugsNum","addHp","hpReply","addMp","mpReply","parent","setPosition","v2","myPropNode","myPropJs","propName","addSpeed","addHurt","addDefense","bind","open","send","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        myDrugsDetail:{\r\n            type:cc.Prefab,\r\n            default:null\r\n        },\r\n        myPropDetail:{\r\n            type:cc.Prefab,\r\n            default:null\r\n        }\r\n    },\r\n\r\n    onLoad () {\r\n        let myUrl = game.baseUrl;\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState == 4 && (xhr.status >= 200 && xhr.status < 400)) {\r\n                var response = JSON.parse(xhr.responseText);\r\n                if(response.status == 0){\r\n                    let data = response.data;\r\n                    this.drugs = data.drugs;\r\n                    this.prop = data.prop;\r\n\r\n                    this.node.getChildByName(\"myDrug\").getChildByName(\"content\").height = 0;\r\n                    for (let i = 0; i < Math.ceil(this.drugs.length/3); i++) {\r\n                        for (let j = 0; j < 3; j++) {\r\n                            let myDrugNode = cc.instantiate(this.myDrugsDetail);\r\n                            let myDrugJs = myDrugNode.getComponent(\"myDrug\");\r\n                            myDrugJs.drugName = \"touxiang\";\r\n                            myDrugJs.num = this.drugs[(i+1)*(j)].drugsNum;\r\n                            myDrugJs.addHp = this.drugs[(i+1)*(j)].hpReply;\r\n                            myDrugJs.addMp = this.drugs[(i+1)*(j)].mpReply;\r\n                            myDrugNode.parent = this.node.getChildByName(\"myDrug\").getChildByName(\"content\");\r\n                            myDrugNode.setPosition(cc.v2(10 + 180*j,-100 - 200*i));\r\n                        }\r\n                        this.node.getChildByName(\"myDrug\").getChildByName(\"content\").height += 200;\r\n                    }\r\n\r\n                    this.node.getChildByName(\"myProp\").getChildByName(\"content\").height = 0;\r\n                    for (let i = 0; i < Math.ceil(this.prop.length/3); i++) {\r\n                        for (let j = 0; j < 3; j++) {\r\n                            let myPropNode = cc.instantiate(this.myPropDetail);\r\n                            let myPropJs = myPropNode.getComponent(\"myProp\");\r\n                            myPropJs.propName = \"touxiang\";\r\n                            myPropJs.addSpeed = this.prop[(i+1)*(j)].addSpeed;\r\n                            myPropJs.addHurt = this.prop[(i+1)*(j)].addHurt;\r\n                            myPropJs.addDefense = this.prop[(i+1)*(j)].addDefense;\r\n                            myPropNode.parent = this.node.getChildByName(\"myProp\").getChildByName(\"content\");\r\n                            myPropNode.setPosition(cc.v2(10 +170*j,-100 - 200*i));\r\n                        }\r\n                        this.node.getChildByName(\"myProp\").getChildByName(\"content\").height += 200;\r\n                    }\r\n\r\n                }\r\n            }\r\n        }.bind(this);\r\n        xhr.open(\"GET\", myUrl+\"archives/beginGame?archivesId=1\", true);\r\n        xhr.send();\r\n\r\n\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}