{"version":3,"sources":["assets\\script\\myProp.js"],"names":["cc","Class","Component","properties","propName","num","addDefense","addSpeed","addHurt","onLoad","node","on","Node","EventType","MOUSE_ENTER","event","getChildByName","color","Color","scale","MOUSE_LEAVE","active","MOUSE_DOWN","getComponent","Label","string","self","loader","loadRes","SpriteFrame","err","spriteFrame","length","Sprite","onDestroy","releaseRes","drugName","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        propName:null,\r\n        num:null,\r\n        addDefense:null, //防御\r\n        addSpeed:null,  //移动\r\n        addHurt:null    //伤害值\r\n    },\r\n\r\n    onLoad () {\r\n        if(this.propName == null){\r\n            this.propName = \"------\";\r\n        }\r\n        if(this.num == null){\r\n            this.num = 0;\r\n        }\r\n        if(this.addDefense == null){\r\n            this.addDefense = \"000\";\r\n        }\r\n        if(this.addSpeed == null){\r\n            this.addSpeed = \"000\";\r\n        }\r\n        if(this.addHurt == null){\r\n            this.addHurt = \"000\";\r\n        }\r\n\r\n        // 使用枚举类型来注册\r\n        this.node.on(cc.Node.EventType.MOUSE_ENTER, function (event) {  //鼠标移入\r\n            this.node.getChildByName(\"ground\").color = new cc.Color(100,100,100);\r\n            this.node.scale = 1.2;\r\n        }, this);\r\n\r\n        this.node.on(cc.Node.EventType.MOUSE_LEAVE, function (event) { //鼠标移出\r\n            this.node.getChildByName(\"ground\").color = new cc.Color(104,105,91,255);\r\n            this.node.scale = 1;\r\n            this.node.getChildByName(\"used\").active = false;\r\n        }, this);\r\n\r\n        this.node.on(cc.Node.EventType.MOUSE_DOWN, function (event) {  //鼠标点击\r\n            this.node.getChildByName(\"used\").getChildByName(\"context\").getComponent(cc.Label).string = \"确定装备该配件吗\";\r\n            this.node.getChildByName(\"used\").active  = true;\r\n        }, this);\r\n\r\n        this.node.getChildByName(\"used\").active = false;\r\n        var self = this;\r\n        cc.loader.loadRes(self.propName, cc.SpriteFrame, function (err, spriteFrame) {\r\n            if(spriteFrame.length != 0){\r\n                self.node.getChildByName(\"image\").getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            }\r\n        });\r\n        self.node.getChildByName(\"num\").getComponent(cc.Label).string = self.num;\r\n        self.node.getChildByName(\"name\").getComponent(cc.Label).string = self.propName;\r\n        self.node.getChildByName(\"content\").getComponent(cc.Label).string = \"防御+:\"+this.addDefense+\"\\n移动+:\"+this.addSpeed+\"\\n伤害+:\"+self.addHurt;\r\n    },\r\n\r\n    onDestroy(){\r\n        cc.loader.releaseRes(this.drugName, cc.SpriteFrame); //图片资源释放\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}