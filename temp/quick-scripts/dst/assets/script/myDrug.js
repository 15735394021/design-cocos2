
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/myDrug.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a7c19fvD19OWKXYoYUwGab/', 'myDrug');
// script/myDrug.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    drugName: null,
    num: null,
    addHp: null,
    addMp: null,
    drink_audio: {
      //背景音乐
      type: cc.AudioClip,
      "default": null
    }
  },
  onLoad: function onLoad() {
    if (this.drugName == null) {
      this.drugName = "------";
    }

    if (this.num == null) {
      this.num = 0;
    }

    if (this.addHp == null) {
      this.addHp = "000";
    }

    if (this.addMp == null) {
      this.addMp = "000";
    } //为每个结点绑定事件
    // 使用枚举类型来注册


    this.node.on(cc.Node.EventType.MOUSE_ENTER, function (event) {
      //鼠标移入
      this.node.getChildByName("ground").color = new cc.Color(100, 100, 100);
      this.node.scale = 1.2;
    }, this);
    this.node.on(cc.Node.EventType.MOUSE_LEAVE, function (event) {
      //鼠标移出
      this.node.getChildByName("ground").color = new cc.Color(104, 105, 91, 255);
      this.node.scale = 1;
      this.node.getChildByName("used").active = false;
    }, this);
    this.node.on(cc.Node.EventType.MOUSE_DOWN, function (event) {
      //鼠标点击
      if (this.num == 0) {
        this.node.getChildByName("used").getChildByName("context").getComponent(cc.Label).string = "该药品已经用完了";
      }

      this.node.getChildByName("used").getChildByName("context").getComponent(cc.Label).string = "使用该药品吗？";
      this.node.getChildByName("used").active = true;
    }, this);
    this.node.getChildByName("used").active = false;
    var self = this;
    cc.loader.loadRes(self.drugName, cc.SpriteFrame, function (err, spriteFrame) {
      if (spriteFrame.length != 0) {
        self.node.getChildByName("image").getComponent(cc.Sprite).spriteFrame = spriteFrame;
      }
    });
    self.node.getChildByName("num").getComponent(cc.Label).string = self.num;
    self.node.getChildByName("name").getComponent(cc.Label).string = self.drugName;
    self.node.getChildByName("content").getComponent(cc.Label).string = "hp+:" + this.addHp + "\nmp+:" + this.addMp;
  },
  onDestroy: function onDestroy() {
    cc.loader.releaseRes(this.drugName, cc.SpriteFrame); //图片资源释放
  },
  useDrug: function useDrug() {
    if (this.num == 0) {
      this.node.getChildByName("used").getChildByName("context").getComponent(cc.Label).string = "该药品已经用完了";
      return;
    }

    if (heroModel.heroLife.getChildByName("bar").width == 300) {
      this.node.getChildByName("used").getChildByName("context").getComponent(cc.Label).string = "生命值不低于100时无法使用药品";
      return;
    }

    heroModel.addLife(this.addHp);
    this.num--;
    cc.audioEngine.play(this.drink_audio, false, 0.3);
    this.node.getChildByName("num").getComponent(cc.Label).string = this.num;
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFxteURydWcuanMiXSwibmFtZXMiOlsiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJkcnVnTmFtZSIsIm51bSIsImFkZEhwIiwiYWRkTXAiLCJkcmlua19hdWRpbyIsInR5cGUiLCJBdWRpb0NsaXAiLCJvbkxvYWQiLCJub2RlIiwib24iLCJOb2RlIiwiRXZlbnRUeXBlIiwiTU9VU0VfRU5URVIiLCJldmVudCIsImdldENoaWxkQnlOYW1lIiwiY29sb3IiLCJDb2xvciIsInNjYWxlIiwiTU9VU0VfTEVBVkUiLCJhY3RpdmUiLCJNT1VTRV9ET1dOIiwiZ2V0Q29tcG9uZW50IiwiTGFiZWwiLCJzdHJpbmciLCJzZWxmIiwibG9hZGVyIiwibG9hZFJlcyIsIlNwcml0ZUZyYW1lIiwiZXJyIiwic3ByaXRlRnJhbWUiLCJsZW5ndGgiLCJTcHJpdGUiLCJvbkRlc3Ryb3kiLCJyZWxlYXNlUmVzIiwidXNlRHJ1ZyIsImhlcm9Nb2RlbCIsImhlcm9MaWZlIiwid2lkdGgiLCJhZGRMaWZlIiwiYXVkaW9FbmdpbmUiLCJwbGF5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBQSxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUNMLGFBQVNELEVBQUUsQ0FBQ0UsU0FEUDtBQUdMQyxFQUFBQSxVQUFVLEVBQUU7QUFDUkMsSUFBQUEsUUFBUSxFQUFDLElBREQ7QUFFUkMsSUFBQUEsR0FBRyxFQUFDLElBRkk7QUFHUkMsSUFBQUEsS0FBSyxFQUFDLElBSEU7QUFJUkMsSUFBQUEsS0FBSyxFQUFDLElBSkU7QUFLUkMsSUFBQUEsV0FBVyxFQUFDO0FBQUs7QUFDYkMsTUFBQUEsSUFBSSxFQUFDVCxFQUFFLENBQUNVLFNBREE7QUFFUixpQkFBUTtBQUZBO0FBTEosR0FIUDtBQWNMQyxFQUFBQSxNQWRLLG9CQWNLO0FBQ04sUUFBRyxLQUFLUCxRQUFMLElBQWlCLElBQXBCLEVBQXlCO0FBQ3JCLFdBQUtBLFFBQUwsR0FBZ0IsUUFBaEI7QUFDSDs7QUFDRCxRQUFHLEtBQUtDLEdBQUwsSUFBWSxJQUFmLEVBQW9CO0FBQ2hCLFdBQUtBLEdBQUwsR0FBVyxDQUFYO0FBQ0g7O0FBQ0QsUUFBRyxLQUFLQyxLQUFMLElBQWMsSUFBakIsRUFBc0I7QUFDbEIsV0FBS0EsS0FBTCxHQUFhLEtBQWI7QUFDSDs7QUFDRCxRQUFHLEtBQUtDLEtBQUwsSUFBYyxJQUFqQixFQUFzQjtBQUNsQixXQUFLQSxLQUFMLEdBQWEsS0FBYjtBQUNILEtBWkssQ0FjTjtBQUNBOzs7QUFDQSxTQUFLSyxJQUFMLENBQVVDLEVBQVYsQ0FBYWIsRUFBRSxDQUFDYyxJQUFILENBQVFDLFNBQVIsQ0FBa0JDLFdBQS9CLEVBQTRDLFVBQVVDLEtBQVYsRUFBaUI7QUFBRztBQUM1RCxXQUFLTCxJQUFMLENBQVVNLGNBQVYsQ0FBeUIsUUFBekIsRUFBbUNDLEtBQW5DLEdBQTJDLElBQUluQixFQUFFLENBQUNvQixLQUFQLENBQWEsR0FBYixFQUFpQixHQUFqQixFQUFxQixHQUFyQixDQUEzQztBQUNBLFdBQUtSLElBQUwsQ0FBVVMsS0FBVixHQUFrQixHQUFsQjtBQUNILEtBSEQsRUFHRyxJQUhIO0FBS0EsU0FBS1QsSUFBTCxDQUFVQyxFQUFWLENBQWFiLEVBQUUsQ0FBQ2MsSUFBSCxDQUFRQyxTQUFSLENBQWtCTyxXQUEvQixFQUE0QyxVQUFVTCxLQUFWLEVBQWlCO0FBQUU7QUFDM0QsV0FBS0wsSUFBTCxDQUFVTSxjQUFWLENBQXlCLFFBQXpCLEVBQW1DQyxLQUFuQyxHQUEyQyxJQUFJbkIsRUFBRSxDQUFDb0IsS0FBUCxDQUFhLEdBQWIsRUFBaUIsR0FBakIsRUFBcUIsRUFBckIsRUFBd0IsR0FBeEIsQ0FBM0M7QUFDQSxXQUFLUixJQUFMLENBQVVTLEtBQVYsR0FBa0IsQ0FBbEI7QUFDQSxXQUFLVCxJQUFMLENBQVVNLGNBQVYsQ0FBeUIsTUFBekIsRUFBaUNLLE1BQWpDLEdBQTBDLEtBQTFDO0FBQ0gsS0FKRCxFQUlHLElBSkg7QUFNQSxTQUFLWCxJQUFMLENBQVVDLEVBQVYsQ0FBYWIsRUFBRSxDQUFDYyxJQUFILENBQVFDLFNBQVIsQ0FBa0JTLFVBQS9CLEVBQTJDLFVBQVVQLEtBQVYsRUFBaUI7QUFBRztBQUMzRCxVQUFHLEtBQUtaLEdBQUwsSUFBWSxDQUFmLEVBQWlCO0FBQ2IsYUFBS08sSUFBTCxDQUFVTSxjQUFWLENBQXlCLE1BQXpCLEVBQWlDQSxjQUFqQyxDQUFnRCxTQUFoRCxFQUEyRE8sWUFBM0QsQ0FBd0V6QixFQUFFLENBQUMwQixLQUEzRSxFQUFrRkMsTUFBbEYsR0FBMkYsVUFBM0Y7QUFDSDs7QUFDRCxXQUFLZixJQUFMLENBQVVNLGNBQVYsQ0FBeUIsTUFBekIsRUFBaUNBLGNBQWpDLENBQWdELFNBQWhELEVBQTJETyxZQUEzRCxDQUF3RXpCLEVBQUUsQ0FBQzBCLEtBQTNFLEVBQWtGQyxNQUFsRixHQUEyRixTQUEzRjtBQUNBLFdBQUtmLElBQUwsQ0FBVU0sY0FBVixDQUF5QixNQUF6QixFQUFpQ0ssTUFBakMsR0FBMEMsSUFBMUM7QUFDSCxLQU5ELEVBTUcsSUFOSDtBQVFBLFNBQUtYLElBQUwsQ0FBVU0sY0FBVixDQUF5QixNQUF6QixFQUFpQ0ssTUFBakMsR0FBMEMsS0FBMUM7QUFDQSxRQUFJSyxJQUFJLEdBQUcsSUFBWDtBQUNBNUIsSUFBQUEsRUFBRSxDQUFDNkIsTUFBSCxDQUFVQyxPQUFWLENBQWtCRixJQUFJLENBQUN4QixRQUF2QixFQUFpQ0osRUFBRSxDQUFDK0IsV0FBcEMsRUFBaUQsVUFBVUMsR0FBVixFQUFlQyxXQUFmLEVBQTRCO0FBQ3pFLFVBQUdBLFdBQVcsQ0FBQ0MsTUFBWixJQUFzQixDQUF6QixFQUEyQjtBQUN2Qk4sUUFBQUEsSUFBSSxDQUFDaEIsSUFBTCxDQUFVTSxjQUFWLENBQXlCLE9BQXpCLEVBQWtDTyxZQUFsQyxDQUErQ3pCLEVBQUUsQ0FBQ21DLE1BQWxELEVBQTBERixXQUExRCxHQUF3RUEsV0FBeEU7QUFDSDtBQUNKLEtBSkQ7QUFLSUwsSUFBQUEsSUFBSSxDQUFDaEIsSUFBTCxDQUFVTSxjQUFWLENBQXlCLEtBQXpCLEVBQWdDTyxZQUFoQyxDQUE2Q3pCLEVBQUUsQ0FBQzBCLEtBQWhELEVBQXVEQyxNQUF2RCxHQUFnRUMsSUFBSSxDQUFDdkIsR0FBckU7QUFDQXVCLElBQUFBLElBQUksQ0FBQ2hCLElBQUwsQ0FBVU0sY0FBVixDQUF5QixNQUF6QixFQUFpQ08sWUFBakMsQ0FBOEN6QixFQUFFLENBQUMwQixLQUFqRCxFQUF3REMsTUFBeEQsR0FBaUVDLElBQUksQ0FBQ3hCLFFBQXRFO0FBQ0F3QixJQUFBQSxJQUFJLENBQUNoQixJQUFMLENBQVVNLGNBQVYsQ0FBeUIsU0FBekIsRUFBb0NPLFlBQXBDLENBQWlEekIsRUFBRSxDQUFDMEIsS0FBcEQsRUFBMkRDLE1BQTNELEdBQW9FLFNBQU8sS0FBS3JCLEtBQVosR0FBa0IsUUFBbEIsR0FBMkIsS0FBS0MsS0FBcEc7QUFDUCxHQTNESTtBQTZETDZCLEVBQUFBLFNBN0RLLHVCQTZETTtBQUNQcEMsSUFBQUEsRUFBRSxDQUFDNkIsTUFBSCxDQUFVUSxVQUFWLENBQXFCLEtBQUtqQyxRQUExQixFQUFvQ0osRUFBRSxDQUFDK0IsV0FBdkMsRUFETyxDQUM4QztBQUN4RCxHQS9ESTtBQWdFTE8sRUFBQUEsT0FoRUsscUJBZ0VJO0FBQ0wsUUFBRyxLQUFLakMsR0FBTCxJQUFZLENBQWYsRUFBaUI7QUFDYixXQUFLTyxJQUFMLENBQVVNLGNBQVYsQ0FBeUIsTUFBekIsRUFBaUNBLGNBQWpDLENBQWdELFNBQWhELEVBQTJETyxZQUEzRCxDQUF3RXpCLEVBQUUsQ0FBQzBCLEtBQTNFLEVBQWtGQyxNQUFsRixHQUEyRixVQUEzRjtBQUNBO0FBQ0g7O0FBQ0QsUUFBR1ksU0FBUyxDQUFDQyxRQUFWLENBQW1CdEIsY0FBbkIsQ0FBa0MsS0FBbEMsRUFBeUN1QixLQUF6QyxJQUFrRCxHQUFyRCxFQUF5RDtBQUNyRCxXQUFLN0IsSUFBTCxDQUFVTSxjQUFWLENBQXlCLE1BQXpCLEVBQWlDQSxjQUFqQyxDQUFnRCxTQUFoRCxFQUEyRE8sWUFBM0QsQ0FBd0V6QixFQUFFLENBQUMwQixLQUEzRSxFQUFrRkMsTUFBbEYsR0FBMkYsa0JBQTNGO0FBQ0E7QUFDSDs7QUFDSFksSUFBQUEsU0FBUyxDQUFDRyxPQUFWLENBQWtCLEtBQUtwQyxLQUF2QjtBQUNBLFNBQUtELEdBQUw7QUFDRUwsSUFBQUEsRUFBRSxDQUFDMkMsV0FBSCxDQUFlQyxJQUFmLENBQW9CLEtBQUtwQyxXQUF6QixFQUFxQyxLQUFyQyxFQUEyQyxHQUEzQztBQUNBLFNBQUtJLElBQUwsQ0FBVU0sY0FBVixDQUF5QixLQUF6QixFQUFnQ08sWUFBaEMsQ0FBNkN6QixFQUFFLENBQUMwQixLQUFoRCxFQUF1REMsTUFBdkQsR0FBZ0UsS0FBS3RCLEdBQXJFO0FBQ0gsR0E3RUksQ0FnRkw7O0FBaEZLLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcblxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIGRydWdOYW1lOm51bGwsXHJcbiAgICAgICAgbnVtOm51bGwsXHJcbiAgICAgICAgYWRkSHA6bnVsbCxcclxuICAgICAgICBhZGRNcDpudWxsLFxyXG4gICAgICAgIGRyaW5rX2F1ZGlvOnsgICAgLy/og4zmma/pn7PkuZBcclxuICAgICAgICAgICAgdHlwZTpjYy5BdWRpb0NsaXAsXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgaWYodGhpcy5kcnVnTmFtZSA9PSBudWxsKXtcclxuICAgICAgICAgICAgdGhpcy5kcnVnTmFtZSA9IFwiLS0tLS0tXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMubnVtID09IG51bGwpe1xyXG4gICAgICAgICAgICB0aGlzLm51bSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuYWRkSHAgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkSHAgPSBcIjAwMFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmFkZE1wID09IG51bGwpe1xyXG4gICAgICAgICAgICB0aGlzLmFkZE1wID0gXCIwMDBcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5Li65q+P5Liq57uT54K557uR5a6a5LqL5Lu2XHJcbiAgICAgICAgLy8g5L2/55So5p6a5Li+57G75Z6L5p2l5rOo5YaMXHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLk1PVVNFX0VOVEVSLCBmdW5jdGlvbiAoZXZlbnQpIHsgIC8v6byg5qCH56e75YWlXHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImdyb3VuZFwiKS5jb2xvciA9IG5ldyBjYy5Db2xvcigxMDAsMTAwLDEwMCk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5zY2FsZSA9IDEuMjtcclxuICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLk1PVVNFX0xFQVZFLCBmdW5jdGlvbiAoZXZlbnQpIHsgLy/pvKDmoIfnp7vlh7pcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiZ3JvdW5kXCIpLmNvbG9yID0gbmV3IGNjLkNvbG9yKDEwNCwxMDUsOTEsMjU1KTtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnNjYWxlID0gMTtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwidXNlZFwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLk1PVVNFX0RPV04sIGZ1bmN0aW9uIChldmVudCkgeyAgLy/pvKDmoIfngrnlh7tcclxuICAgICAgICAgICAgaWYodGhpcy5udW0gPT0gMCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ1c2VkXCIpLmdldENoaWxkQnlOYW1lKFwiY29udGV4dFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwi6K+l6I2v5ZOB5bey57uP55So5a6M5LqGXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwidXNlZFwiKS5nZXRDaGlsZEJ5TmFtZShcImNvbnRleHRcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIuS9v+eUqOivpeiNr+WTgeWQl++8n1wiO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ1c2VkXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInVzZWRcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHNlbGYuZHJ1Z05hbWUsIGNjLlNwcml0ZUZyYW1lLCBmdW5jdGlvbiAoZXJyLCBzcHJpdGVGcmFtZSkge1xyXG4gICAgICAgICAgICBpZihzcHJpdGVGcmFtZS5sZW5ndGggIT0gMCl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJpbWFnZVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHNwcml0ZUZyYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNlbGYubm9kZS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHNlbGYubnVtO1xyXG4gICAgICAgICAgICBzZWxmLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJuYW1lXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gc2VsZi5kcnVnTmFtZTtcclxuICAgICAgICAgICAgc2VsZi5ub2RlLmdldENoaWxkQnlOYW1lKFwiY29udGVudFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiaHArOlwiK3RoaXMuYWRkSHArXCJcXG5tcCs6XCIrdGhpcy5hZGRNcDtcclxuICAgIH0sXHJcblxyXG4gICAgb25EZXN0cm95KCl7XHJcbiAgICAgICAgY2MubG9hZGVyLnJlbGVhc2VSZXModGhpcy5kcnVnTmFtZSwgY2MuU3ByaXRlRnJhbWUpOyAvL+WbvueJh+i1hOa6kOmHiuaUvlxyXG4gICAgfSxcclxuICAgIHVzZURydWcoKXtcclxuICAgICAgICBpZih0aGlzLm51bSA9PSAwKXtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwidXNlZFwiKS5nZXRDaGlsZEJ5TmFtZShcImNvbnRleHRcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIuivpeiNr+WTgeW3sue7j+eUqOWujOS6hlwiO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGhlcm9Nb2RlbC5oZXJvTGlmZS5nZXRDaGlsZEJ5TmFtZShcImJhclwiKS53aWR0aCA9PSAzMDApe1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ1c2VkXCIpLmdldENoaWxkQnlOYW1lKFwiY29udGV4dFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwi55Sf5ZG95YC85LiN5L2O5LqOMTAw5pe25peg5rOV5L2/55So6I2v5ZOBXCI7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIGhlcm9Nb2RlbC5hZGRMaWZlKHRoaXMuYWRkSHApO1xyXG4gICAgICB0aGlzLm51bS0tO1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnBsYXkodGhpcy5kcmlua19hdWRpbyxmYWxzZSwwLjMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHRoaXMubnVtO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge30sXHJcbn0pO1xyXG4iXX0=