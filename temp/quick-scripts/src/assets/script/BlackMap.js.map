{"version":3,"sources":["assets\\script\\BlackMap.js"],"names":["YMovieClip","cc","Class","Node","properties","cFrame","currentFrame","get","totalFrame","frameArr","length","isYMC","imgNode","actionObj","eventObj","tagObj","stageNode","frameNode","spriteArr","currentArr","rect","Rect","revise","Init","parentNode","nstr","fraArr","actObj","eveArr","tObj","sprArr","SpriteObj","rBo","stopBo","offBo","currActArr","name","eventFunObj","parent","addComponent","Sprite","anchorX","anchorY","setSprite","Init2","onEventFun","EventFrame","str","dispatchEvent","Event","EventCustom","setEventFun","zhen2","typeStr","fun","zhen","hasOwnProperty","addEventFun","deleteEventFun","deleteAllEventFun","setFrame","remFrame","cTim","tTim","sbo","oBo","onHitComponent","setActionObj","xh","ys","zhenObj","zhenTim","zhenArr","i","addFrame","arr","c","unshift","cy","removeThis","spr","getComponent","spriteFrame","destroy","gotoAndPlay","frame","f","gotoAndStop","play","stop","getPraent","_y_parent","getRect","x","y","width","height","startYMC","pz","enabled","setLocationFun","X","Y","Component","tooltip","visible","nodeAllObj","MapSprArr","LayerArr","FPS","_FPS","FPS2","set","value","Math","floor","timDelay","unschedule","timerFun","schedule","mapCameraNode","_mapCameraNode","off","onMapCamera","on","BGObj","_BGObj","onLoad2","LocObj","isHit","timInt","pointObj","stageRectObj","showNodeObj","stageNodeObj","LoadBo","onSrpiteFun","ymcStageArr","MapMcArr","ymcFrameObj","ymcTimInt","mcPool","showAll","_showAllBo","addAll","console","log","LayerStr","idStr","larr","addNodeChildFun","flagPoint","bo","LayerNodeObj","Vec2","node","n","tX","tY","dian","convertToWorldSpaceAR","v2","AddMapChildFun","view","getVisibleOrigin","scaleX","scaleY","getVisibleSize","scaleFun","px","py","tx","ty","p","p2","removeAll","LayerNodeArr","destroyAllChildren","s","mcArr","killFrameArr","killSprArr","loader","releaseRes","SpriteFrame","nodeParentObj","release","killArr","pathFind","removeComponent","releaseAsset","BGNode","PathGridObj","Loading","layerRect","onLoadYMovieClip","onLoadSprite","onLoadSpriteParent","killSprite","killSpriteParent","killYMovieClip","ymcAllObj","ymcMapSprArr","getLayerRectFun","getLayerNodeFun","killNodePool","timOrName","constructor","Number","id","t","setSpriteFrame","path","pa","l","childrenCount","children","LoadLength","MapObj","loadInt","loadLen","_this","loadRes","SpriteAtlas","err","atlas","onLayerFun","atlArr","rArr","clone","getTexture","setFilters","Texture2D","Filter","NEAREST","frame2","str2","deps","getDependsRecursively","getSpriteFrame","a","addNode","obj","newNode","hitObject","getComponentType","SprObj","Color","r","g","b","fill","type","Graphics","BoxCollider","PolygonCollider","getBGNode","splice","LoadMapBG","nx","ny","BGInit","zIndex","w","h","getBGID","AddMapBG","pw","ph","intersection","cx","cw","ceil","ch","getHitRectObj","o","cx2","cy2","cw2","ch2","push","fBG","jlObj","r2","removeNodeChildFun","sxArr","r1","rzx","rzs","ryx","rys","tcID","NodeID","mcBo","lBo","zNode","parBo","nArr","extend","opacity","addNodeParent","color","bID","infoObj","mapLayerName","strID","ymc","pbo","pid","eObj","eStr","vStr","info","setStageNodeInfo","pnode","_y_parID","setYMovieClipFrame","nodeID","pBo","removeNodeParent","addStageNodeObjFun","tcName","nhStr","undefined","obj1","obj2","key","getNodesByLocation","LayerName","sarr","getTopNodeByLocation","zInde","addMapNode","nBo","LayerArrID","Info","ix","iy","setNodeLocation","lx","ly","jx","stageRect","nXY","killStageNode","nStr","removeStageNode","nRect","nPar","layerName","MRect","getMapNodeObj","IDorN","getShadow","Proxy","target","propKey","receiver","setMapLocation","lObj","Bo","sx","sy","ggBo","remBo","yrect","iw","ih","getNodeRect","nodeX","nodeY","xt","yt","ctobj","indexOf","getIntersectsRectFun","rect1","rect2","nw","nh","abs","removeMapNode","getNodeParentByName","getNodeParentBySprite","mr","isShow","hitObj","hitStr","xn","toString","yn","v","getTag","onPath","pathObj","pobj","ols","olp","oLsp","olymc","onLayerFun2","zarr","tarr","carr","hitFun","pzArr","Size","yStr","pzObj","Array","cInit","window"],"mappings":"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","sourceRoot":"/","sourcesContent":["var YMovieClip = cc.Class({\r\n    extends: cc.Node,\r\n    properties: {\r\n        cFrame: 0,\r\n        currentFrame: {\r\n            get: function () {\r\n                return this.cFrame + 1;\r\n            }\r\n        },\r\n        totalFrame: {\r\n            get: function () {\r\n                return this.frameArr.length;\r\n            }\r\n        },\r\n        isYMC: true,\r\n        frameArr: [],\r\n        imgNode: cc.Node,\r\n        actionObj: null,\r\n        eventObj: null,\r\n        tagObj: null,\r\n        stageNode: cc.Node,\r\n        frameNode: cc.Node,\r\n        spriteArr: [],\r\n        currentArr: [],\r\n        rect: cc.Rect,\r\n        revise: false\r\n    },\r\n    Init: function (parentNode, nstr, fraArr, actObj, eveArr, rect, tObj, sprArr, SpriteObj, rBo) {\r\n        this.revise = rBo;\r\n        this.stopBo = false;\r\n        this.offBo = false;//停止运行 最高权限 只有执行了stop()才能为true\r\n        this.currActArr = null;\r\n        this.name = nstr;\r\n        this.frameArr = fraArr;\r\n        this.actionObj = actObj;\r\n        this.eventObj = eveArr;\r\n        this.tagObj = tObj;\r\n        this.spriteArr = sprArr;\r\n        this.cFrame = 0;\r\n        this.SpriteObj = SpriteObj;\r\n        this.rect = rect;\r\n        this.eventFunObj = {};\r\n        this.currentArr = this.frameArr[this.cFrame];\r\n        this.parent = parentNode;\r\n        this.frameNode = new cc.Node();\r\n        this.frameNode.parent = this;\r\n        this.frameNode.addComponent(cc.Sprite);\r\n        this.frameNode.anchorX = 0;\r\n        this.frameNode.anchorY = 1;\r\n        this.anchorX = 0;\r\n        this.anchorY = 1;\r\n\r\n        this.setSprite();\r\n    },\r\n    Init2: function (rect, sprArr, SpriteObj, rBo) {\r\n        this.revise = rBo;\r\n        this.stopBo = false;\r\n        this.offBo = false;//停止运行 最高权限 只有执行了stop()才能为true\r\n        this.currActArr = null;\r\n        this.spriteArr = sprArr;\r\n        this.cFrame = 0;\r\n        this.SpriteObj = SpriteObj;\r\n        this.rect = rect;\r\n        this.eventFunObj = {};\r\n        this.currentArr = this.frameArr[this.cFrame];\r\n\r\n        this.setSprite();\r\n    },\r\n    /***如果该帧上有事件类型但是无接收方法,那么就会执行ymc.dispatchEvent弹出事件***/\r\n    /***也可以通过setEventFun和addEventFun为该帧上的事件类型增加方法，屏蔽弹出***/\r\n    onEventFun: function () {\r\n        if (this.EventFrame == this.cFrame) {\r\n            return;\r\n        }\r\n        this.EventFrame = this.cFrame;//上一次执行代码的帧\r\n        if (this.eventObj[this.cFrame] != null) {\r\n            for (let str in this.eventObj[this.cFrame]) {\r\n                if (this.eventObj[this.cFrame][str] != null) {\r\n                    this.eventObj[this.cFrame][str]();\r\n                } else {\r\n                    this.dispatchEvent(new cc.Event.EventCustom(str, false));\r\n                }\r\n            }\r\n        }\r\n    },\r\n    /********设置或更改已有的帧事件********/\r\n    setEventFun: function (zhen2, typeStr, fun) {\r\n        let zhen = zhen2 - 1;\r\n        if (this.eventObj[zhen] != null) {\r\n            if (this.eventObj[zhen].hasOwnProperty(typeStr)) {\r\n                this.eventObj[zhen][typeStr] = fun;\r\n            }\r\n        }\r\n    },\r\n    /********添加的帧事件，如果已经存则会被覆盖********/\r\n    addEventFun: function (zhen2, typeStr, fun) {\r\n        let zhen = zhen2 - 1;\r\n        if (this.eventObj[zhen] == null) {\r\n            this.eventObj[zhen] = {};\r\n        }\r\n        this.eventObj[zhen][typeStr] = fun;\r\n    },\r\n    /********清除某一帧上的某一事件********/\r\n    deleteEventFun: function (zhen2, typeStr) {\r\n        let zhen = zhen2 - 1;\r\n        if (this.eventObj[zhen] != null) {\r\n            if (this.eventObj[zhen].hasOwnProperty(typeStr)) {\r\n                delete (this.eventObj[zhen][typeStr]);\r\n            }\r\n        }\r\n    },\r\n    /********清除某一帧上的所有事件********/\r\n    deleteAllEventFun: function (zhen2) {\r\n        let zhen = zhen2 - 1;\r\n        if (this.eventObj.hasOwnProperty(zhen)) {\r\n            delete (this.eventObj[zhen]);\r\n        }\r\n    },\r\n    /*********设置帧参数：卸载时动画的帧，当前时间，卸载时间,暂时BO，停止Bo */\r\n    setFrame: function (remFrame, cTim, tTim, sbo, oBo) {\r\n        this.stopBo = sbo;\r\n        this.offBo = oBo;\r\n        if (tTim == 0 || tTim == null) {//如果是第一次加载，则什么都不做\r\n            if (this.actionObj != null) {\r\n                this.currActArr = this.actionObj[0];\r\n                if (this.currActArr != null) {\r\n                    if (this.currActArr[0] == 'stop') {\r\n                        this.cFrame = 0;\r\n                        this.onHitComponent();\r\n                        this.currentArr = this.frameArr[this.cFrame];\r\n                        this.setActionObj(this.cFrame);\r\n                        this.setSprite();\r\n                        this.EventFrame = this.cFrame;\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (sbo || oBo || this.totalFrame == 1) {\r\n            if (this.totalFrame == 1) {\r\n                this.cFrame = 0;\r\n            } else {\r\n                this.cFrame = remFrame;\r\n            }\r\n            this.onHitComponent();\r\n            this.currentArr = this.frameArr[this.cFrame];\r\n            this.setActionObj(this.cFrame);\r\n            this.setSprite();\r\n            this.EventFrame = this.cFrame;\r\n            return;\r\n        }\r\n        let xh = cTim - tTim;\r\n        if (this.actionObj == null) {\r\n            let ys = xh % this.totalFrame;\r\n            if (remFrame + ys >= this.totalFrame) {\r\n                this.cFrame = (remFrame + ys) - this.totalFrame;\r\n            } else {\r\n                this.cFrame = remFrame + ys;\r\n            }\r\n            this.onHitComponent();\r\n            this.currentArr = this.frameArr[this.cFrame];\r\n            this.setActionObj(this.cFrame);\r\n            this.setSprite();\r\n            this.onEventFun();\r\n            return;\r\n        } else {\r\n            this.cFrame = remFrame;\r\n            if (xh >= this.totalFrame * 3 && xh > 50) {\r\n                let zhenObj = {};\r\n                let zhenTim = tTim;\r\n                let zhenArr = [];\r\n                this.setActionObj(this.cFrame);\r\n                for (let i = 0; i < this.totalFrame * 3; i++) {\r\n                    this.currentArr = this.frameArr[this.cFrame];\r\n                    this.cFrame = this.addFrame();\r\n                    zhenTim++;\r\n                    zhenArr[zhenArr.length] = this.cFrame;\r\n                    if (zhenObj[this.cFrame] == null) {\r\n                        zhenObj[this.cFrame] = 1;\r\n                    } else {\r\n                        zhenObj[this.cFrame]++;\r\n                        if (zhenObj[this.cFrame] >= 3) {//当一帧连着出现三次 那么应该是循环了\r\n                            let arr = [];//用来记录每帧的位置和时间\r\n                            for (let c = zhenArr.length - 2; c > 0; c--) {//倒着检查 出循环点\r\n                                arr.unshift(zhenArr[c]);\r\n                                if (zhenArr[c] == this.cFrame) {\r\n                                    xh = cTim - zhenTim;\r\n                                    let cy = xh % arr.length;\r\n                                    this.cFrame = arr[cy];\r\n                                    this.onHitComponent();\r\n                                    this.currentArr = this.frameArr[this.cFrame];\r\n                                    this.setActionObj(this.cFrame);\r\n                                    this.setSprite();\r\n                                    this.onEventFun();\r\n                                    i = this.totalFrame * 4;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                this.setActionObj(this.cFrame);\r\n                for (let i = 0; i < xh; i++) {\r\n                    this.cFrame = this.addFrame();\r\n                }\r\n                this.onHitComponent();\r\n                this.currentArr = this.frameArr[this.cFrame];\r\n                this.setActionObj(this.cFrame);\r\n                this.setSprite();//\r\n                this.onEventFun();\r\n            }\r\n        }\r\n    },\r\n    setActionObj: function (zhen) {\r\n        if (this.actionObj != null) {\r\n            this.currActArr = this.actionObj[zhen];\r\n        }\r\n    },\r\n    addFrame: function () {\r\n        let zhen = this.cFrame;\r\n        if (this.stopBo) {\r\n            if (zhen < 0) {\r\n                zhen = 0;\r\n            }\r\n            if (zhen >= this.totalFrame) {\r\n                zhen = 0;\r\n            }\r\n            return zhen;\r\n        }\r\n        if (this.actionObj == null) {\r\n            zhen++;\r\n        } else {\r\n            if (this.currActArr != null) {\r\n                if (this.currActArr[0] == 'gotoAndStop') {\r\n                    if (zhen != this.currActArr[1]) {\r\n                        if (this.currActArr[1] < this.totalFrame) {\r\n                            zhen = this.currActArr[1]\r\n                        } else {\r\n                            this.currActArr[1] = this.totalFrame - 1;\r\n                            zhen = this.currActArr[1];\r\n                        }\r\n                    }\r\n                    this.stopBo = true;\r\n                    this.currActArr = null;\r\n                } else if (this.currActArr[0] == 'gotoAndPlay') {\r\n                    if (zhen != this.currActArr[1]) {\r\n                        if (this.currActArr[1] < this.totalFrame) {\r\n                            zhen = this.currActArr[1];\r\n                        } else {\r\n                            this.currActArr[1] = this.totalFrame - 1;\r\n                            zhen = this.currActArr[1];\r\n                        }\r\n                    }\r\n                    this.currActArr = null;\r\n                    this.stopBo = false\r\n                } else if (this.currActArr[0] == 'stop') {\r\n                    this.stopBo = true;\r\n                } else if (this.currActArr[0] == 'play') {\r\n                    this.stopBo = false;\r\n                    zhen++;\r\n                }\r\n            } else {\r\n                zhen++;\r\n            }\r\n        }\r\n        if (zhen >= this.frameArr.length) {\r\n            zhen = 0;\r\n        }\r\n        this.setActionObj(zhen);\r\n        return zhen;\r\n    },\r\n    removeThis: function () {\r\n        let spr = this.frameNode.getComponent(cc.Sprite);\r\n        spr.spriteFrame = null;\r\n        this.parent = null;\r\n        this.frameNode.parent = null;\r\n        this.name = '';\r\n        this.frameArr = null;\r\n        this.actionObj = null;\r\n        this.eventObj = null;\r\n        this.tagObj = null;\r\n        this.spriteArr = null;\r\n        this.cFrame = 0;\r\n        this.rect = null;\r\n        this.SpriteObj = null;\r\n        this.frameNode.destroy();\r\n        this.destroy();\r\n    },\r\n    gotoAndPlay: function (frame) {\r\n        if (frame != null) {\r\n            if (typeof (frame) == 'number') {\r\n                if (frame % 1 == 0) {\r\n                    let f = frame - 1;\r\n                    if (f > -1 && f < this.totalFrame) {\r\n                        this.stopBo = false;\r\n                        this.offBo = false;\r\n                        this.cFrame = f;\r\n                        this.onHitComponent();\r\n                        this.setActionObj(this.cFrame);\r\n                    }\r\n                }\r\n            } else {\r\n                if (this.tagObj[frame] != null) {\r\n                    this.stopBo = false;\r\n                    this.offBo = false;\r\n                    this.cFrame = this.tagObj[frame];\r\n                    this.onHitComponent();\r\n                    this.setActionObj(this.tagObj[frame]);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    gotoAndStop: function (frame) {\r\n        if (frame != null) {\r\n            if (typeof (frame) == 'number') {\r\n                if (frame % 1 == 0) {\r\n                    let f = frame - 1;\r\n                    if (f > -1 && f < this.totalFrame) {\r\n                        this.stopBo = true;\r\n                        this.offBo = false;\r\n                        this.cFrame = f;\r\n                        this.onHitComponent();\r\n                        this.setActionObj(this.cFrame);\r\n                    }\r\n                }\r\n            } else {\r\n                if (this.tagObj[frame] != null) {\r\n                    this.stopBo = true;\r\n                    this.offBo = false;\r\n                    this.cFrame = this.tagObj[frame];\r\n                    this.onHitComponent();\r\n                    this.setActionObj(this.tagObj[frame]);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    play: function () {\r\n        this.stopBo = false;\r\n        this.offBo = false;\r\n        this.cFrame++;\r\n        let zhen = this.cFrame + 1;\r\n        if (zhen < 0) {\r\n            zhen = 0;\r\n        }\r\n        if (zhen >= this.totalFrame) {\r\n            zhen = 0;\r\n        }\r\n        this.cFrame = zhen;\r\n        this.onHitComponent();\r\n        this.setActionObj(this.cFrame);\r\n    },\r\n    stop: function () {\r\n        this.offBo = true;\r\n        this.stopBo = true;\r\n    },\r\n    getPraent: function () {\r\n        if (this._y_parent != null) {\r\n            return this._y_parent.parent;\r\n        } else {\r\n            return this.parent;\r\n        }\r\n    },\r\n    getRect: function () {\r\n        return this.rect;\r\n    },\r\n    setSprite: function () {\r\n        let spr = this.frameNode.getComponent(cc.Sprite);\r\n        if (this.currentArr.length > 0) {\r\n            spr.spriteFrame = this.SpriteObj[this.spriteArr[this.currentArr[0]][0][1]['Sprite']['spriteFrame']];\r\n            this.frameNode.x = this.currentArr[1];\r\n            this.frameNode.y = this.currentArr[2];\r\n        } else {\r\n            spr.spriteFrame = null;\r\n        }\r\n        if (this.revise) {\r\n            this.frameNode.width += 1;\r\n            this.frameNode.height += 1;\r\n        }\r\n    },\r\n    startYMC: function () {\r\n        if (this.offBo) { return; }\r\n        this.cFrame = this.addFrame();\r\n        this.onEventFun();\r\n        this.onHitComponent();\r\n        if (this.frameArr[this.cFrame] != this.currentArr) {\r\n            this.currentArr = this.frameArr[this.cFrame];\r\n            this.setSprite();\r\n        }\r\n    },\r\n    onHitComponent: function () {\r\n        if (this.pz != null) {\r\n            for (let i = 0; i < this.pz.length; i++) {\r\n                if (this.pz[i][1][this.cFrame] != null) {\r\n                    if (!(this.pz[i][0].enabled)) { this.pz[i][0].enabled = true; }\r\n                    for (let str in this.pz[i][1][this.cFrame]) {\r\n                        this.pz[i][0][str] = this.pz[i][1][this.cFrame][str];\r\n                    }\r\n                } else {\r\n                    if (this.pz[i][0].enabled) { this.pz[i][0].enabled = false; }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    setLocationFun: function (X, Y) {\r\n        this.x = X;\r\n        this.y = Y;\r\n    }\r\n})\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        revise: {\r\n            default: false,\r\n            tooltip: '当出现透明缝隙时可以开启，该属性会造成所有图块增加一像素的距离，可能会出现衔接问题，所以未出现问题介意不要动'\r\n        },\r\n        //保存贴图的obj，格式为{IDStr：贴图}\r\n        SpriteObj: {\r\n            default: {},\r\n            visible: false\r\n        },\r\n        //存放除不被记录外的所有Node｛唯一ID:[素材ID,x,y]｝\r\n        nodeAllObj: {\r\n            default: {},\r\n            visible: false\r\n        },\r\n        ///存放所有地图信息的数组格式：\r\n        ///[\r\n        ///    0.素材数组=[贴图ID,x,y,[绘制的xy]]\r\n        ///    1.IDNode对像={Node唯一ID：Node}\r\n        ///    2.Node池数组=[]\r\n        ///    3.上次使用池对像提取的时间\r\n        ///]\r\n        MapSprArr: {\r\n            default: [],\r\n            visible: false\r\n        },\r\n        ///保存图层信息的数组，格式为:\r\n        ///[{LayerName：'',\"\"Position:\r\n        ///    {\r\n        ///        x:{整数:{\r\n        ///            y:{整数:[层ID(也是唯一ID)]}\r\n        ///        }\r\n        ///    }\r\n        ///,LayerType:\"地形\"}]\r\n        LayerArr: {\r\n            default: [],\r\n            visible: false\r\n        },\r\n        ///参数1-100\r\n        FPS: {\r\n            get: function () {\r\n                if (this._FPS == null) {\r\n                    if (this.FPS2 != null) {\r\n                        this._FPS = this.FPS2;\r\n                    } else {\r\n                        this._FPS = 25;\r\n                    }\r\n                }\r\n                return this._FPS;\r\n            },\r\n            set: function (value) {\r\n                if (typeof (value) == 'number') {\r\n                    let i = Math.floor(value);\r\n                    if (i <= 100 && i >= 1) {\r\n                        if (this._FPS != null) {\r\n                            if (this.timDelay != null) { this.unschedule(this.timerFun) };\r\n                            this._FPS = i;\r\n                            this.timDelay = 1 / this._FPS;\r\n                            this.schedule(this.timerFun, this.timDelay);\r\n                        } else {\r\n                            this._FPS = i;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            visible: false\r\n        },\r\n        mapCameraNode: {\r\n            get() {\r\n                return this._mapCameraNode;\r\n            },\r\n            set(value) {\r\n                if (this._mapCameraNode == value) { return; }\r\n                if (value == null) {\r\n                    if (this._mapCameraNode != null) {\r\n                        this._mapCameraNode.off('position-changed', this.onMapCamera, this);\r\n                    }\r\n                } else {\r\n                    value.on('position-changed', this.onMapCamera, this);\r\n                }\r\n                this._mapCameraNode = value;\r\n            },\r\n            visible: false\r\n        },\r\n        BGObj: {\r\n            get() {\r\n                return this._BGObj;\r\n            },\r\n            set(value) {\r\n                this._BGObj = value;\r\n            },\r\n            visible: false\r\n        }\r\n    },\r\n\r\n\r\n\r\n    /***********未声明但存在的对像********/\r\n    ///var this.LoadBo=false;素材是否加载完成\r\n    ///var this.LayerNodeArr=[];保存图层Node的数组\r\n    ///var this.LayerNodeObj={};保存图层Node的obj，包含图层宽高\r\n    ///var this.stageRectObj=new cc.Rect();上一次图层node的渲染矩形\r\n    ///var this.stageNodeObj={Node唯一ID：Node};舞台上的Node\r\n    ///var this.pointObj=cc.Vec2();主node或图层node上次移动的点\r\n    ///var this.killArr=[];没有清除的图片ID\r\n    ///var this.killSprArr=[];没有清除的Spr图片ID\r\n    ///var this.mcAllObj={};记录所用的动画\r\n    ///var this.timInt=0;//当前运行的时间\r\n    ///var this.LocObj={};//上次渲染的图场位置\r\n    ///var this.Loading(已加载的贴图数,总贴图数);//上次渲染的图场位置\r\n    ///var this.layerRect={[实际像素rect，图层的块宽度，图层的块高度]}图层里实际node的宽高\r\n    ///var this.flagPoint=cc.Vec2();零点坐标\r\n    ///var this.Init();程序准备完成了执行\r\n    ///this.FPS;帧频\r\n    ///this.mapCameraNode;地图摄像机\r\n    ///var this.timDelay;计时器每次执行的延迟\r\n    ///this.ymcStageArr=[];舞台上的ymc动画\r\n    ///this.MapMcArr={};舞吧上已经有的ymc ID\r\n    ///this.ymcFrameObj={};动画清除时留下的当前帧以及地图运行的时间\r\n    ///this.ymcTimInt=0;动画的时间\r\n    ///this.ymcMapSprArr=[[动画名，动画上的属性]];\r\n    ///this.onLoadYMovieClip(ymc,LayerName,bo:是否第一个加次载);//@public每次动画添加时调用\r\n    ///this.onLoadSprite(node,LayerName);//@public每次图块添加时调用\r\n    ///this.onLoadSpriteParent(node,LayerName,bo:是否第一个加次载);//@public每次组添加时调用\r\n    ///this.killSprite(node,LayerName);//@public图块清除时调用\r\n    ///this.killYMovieClip(node,LayerName);//@public动画清除时调用\r\n    ///this.killSpriteParent(node,LayerName);//@public组清除时调用\r\n    ///this.MapRect;//@public地图的矩形\r\n    ///this.killFrameArr;//清除克隆贴图的frame\r\n    ///this.showNodeObj;//显示在后台的对像Node\r\n    ///this.mcPool;{ID:{timer:使用时间,pool:[]}}\r\n    onLoad2: function () {\r\n        this.LocObj = {};\r\n        this.isHit = {}\r\n        this.timInt = 0;//地图运行的时间，以秒为单位\r\n        this.pointObj = {};\r\n        this.stageRectObj = {};\r\n        this.showNodeObj = {};\r\n        this.stageNodeObj = {};\r\n        this.LoadBo = false;\r\n        this.onSrpiteFun();\r\n        this.ymcStageArr = [];\r\n        this.MapMcArr = {};\r\n        this.ymcFrameObj = {};\r\n        this.ymcTimInt = 0;\r\n        this.mcPool = {};\r\n        // this.data = new Proxy({x:0,y:0}, {\r\n        //     get: function (target, propKey, receiver) {\r\n\r\n        //         return target;\r\n        //     },\r\n        //     set: function (target, propKey, value, receiver) {\r\n        //         console.log(target, propKey, value)\r\n        //     }\r\n        // });\r\n        if (this.timDelay == null) {\r\n            this.timDelay = 1 / this.FPS;//每次执行的延迟\r\n            this.schedule(this.timerFun, this.timDelay);\r\n        }\r\n    },\r\n    timerFun: function () {\r\n        this.timInt += this.timDelay;\r\n        for (let i = 0; i < this.ymcStageArr.length; i++) {\r\n            this.ymcStageArr[i].startYMC();\r\n        }\r\n        this.ymcTimInt++;\r\n    },\r\n    showAll(){\r\n        this._showAllBo=true;\r\n    },\r\n    addAll:function(){\r\n        console.log(\"添加了\")\r\n        for (let LayerStr in this.nodeAllObj) {\r\n            for (let i = 0; i < this.LayerArr.length; i++) {\r\n                if (this.LayerArr[i]['LayerName'] == LayerStr) {\r\n\r\n                    this.LayerArr[i]['Position'] = {};\r\n                    for (let idStr in this.nodeAllObj[LayerStr]) {\r\n                        //  this.Info(LayerStr, idStr, i);\r\n                        //  if (this.nodeAllObj[str][idStr][3] == null) { this.nodeAllObj[str][idStr][3] = []; }\r\n\r\n                        let larr = this.nodeAllObj[LayerStr][idStr];\r\n                        this.addNodeChildFun(larr[0], (larr[1] - this.flagPoint.x), (larr[2] - this.flagPoint.y), i, idStr);\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    /********设置Node坐标（X,Y）并刷新地图，可以设置为null********/\r\n    //@public\r\n    setLocationFun: function (x, y, nstr, bo) {\r\n        if (!this.LoadBo||this._showAllBo) { return; }\r\n        if (nstr == null) { nstr = \"this\"; }\r\n        if (nstr != \"this\") { if (this.LayerNodeObj[nstr] == null) { return; } }\r\n        if (this.pointObj[nstr] == null) { this.pointObj[nstr] = new cc.Vec2(this.node.x - 1, this.node.y - 1); }\r\n        let n;\r\n        if (nstr == \"this\") { n = this.node; } else { n = this.LayerNodeObj[nstr]; }\r\n        if (x != null) { n.x = x; }\r\n        if (y != null) { n.y = y; }\r\n        let tX = n.x;\r\n        let tY = n.y;\r\n        if (this._mapCameraNode != null) {\r\n            tX += this._mapCameraNode.x;\r\n            tY += this._mapCameraNode.y;\r\n        }\r\n        //查看负坐标\r\n        if (this.pointObj[nstr].x != tX || this.pointObj[nstr].y != tY || bo) {\r\n            let dian = n.parent.convertToWorldSpaceAR(cc.v2(n.x, n.y));\r\n            if (this._mapCameraNode == null) {\r\n                this.AddMapChildFun(new cc.Rect((cc.view.getVisibleOrigin().x - dian.x) / this.node.scaleX, (cc.view.getVisibleOrigin().y - dian.y) / this.node.scaleY, cc.view.getVisibleSize().width / this.node.scaleX, cc.view.getVisibleSize().height / this.node.scaleY), nstr);\r\n            } else {\r\n\r\n                this.AddMapChildFun(new cc.Rect((cc.view.getVisibleOrigin().x - dian.x + this._mapCameraNode.x) / this.node.scaleX, (cc.view.getVisibleOrigin().y - dian.y + this._mapCameraNode.y) / this.node.scaleY, cc.view.getVisibleSize().width / this.node.scaleX, cc.view.getVisibleSize().height / this.node.scaleY), nstr);\r\n            }\r\n            this.pointObj[nstr].x = tX;\r\n            this.pointObj[nstr].y = tY;\r\n        }\r\n\r\n    },\r\n    onMapCamera: function () {//摄像机更改事件\r\n\r\n        this.setLocationFun();\r\n    },\r\n    /********以舞台坐标缩放地图*******/\r\n    scaleFun: function (px, py, tx, ty) {\r\n        if (this.node.scaleX != tx || this.node.scaleY != ty) {\r\n            if (tx >= 0.1 || ty >= 0.1) {\r\n                let p = cc.v2((px - this.node.x) / this.node.scaleX, (py - this.node.y) / this.node.scaleY)\r\n                let p2 = cc.v2(px - p.x, py - p.y);\r\n                this.node.scaleX = tx;\r\n                this.node.scaleY = ty;\r\n                this.setLocationFun(p.x * (this.node.scaleX - 1) * -1 + p2.x, p.y * (this.node.scaleY - 1) * -1 + p2.y, 'this', true)\r\n            }\r\n        }\r\n    },\r\n    //@public\r\n    removeAll: function () {\r\n        this.unschedule(this.timerFun);\r\n        for (let i = 0; i < this.LayerNodeArr.length; i++) {\r\n            this.LayerNodeArr[i].destroyAllChildren();\r\n            this.LayerNodeArr[i].parent = null;\r\n            this.LayerNodeArr[i].destroy();\r\n        }\r\n        for (let i = 0; i < this.MapSprArr.length; i++) {\r\n            let arr = this.MapSprArr[i][2];\r\n            for (let c = 0; c < arr.length; c++) {\r\n                arr[c].destroy();\r\n            }\r\n        }\r\n        for (let s in this.mcArr) {\r\n            let arr = this.mcArr[s]['pool'];\r\n            for (let c = 0; c < arr.length; c++) {\r\n                arr[c].removeThis();\r\n            }\r\n        }\r\n        for (let s = 0; s < this.killFrameArr.length; s++) {\r\n            this.killFrameArr[s].destroy();\r\n        }\r\n        if (this.killSprArr != null) {\r\n            for (let i = 0; i < this.killSprArr.length; i++) {\r\n                cc.loader.releaseRes(this.killSprArr[0], cc.SpriteFrame);\r\n            }\r\n        }\r\n        for (let str in this.nodeParentObj) {\r\n            if (this.nodeParentObj[str][7] != null) {\r\n                this.nodeParentObj[str][7].destroy();\r\n            }\r\n        }\r\n        cc.loader.release(this.killArr);//释放贴图\r\n        if (this.pathFind != null) {\r\n            this.node.removeComponent(this.pathFind);//\r\n        }\r\n        if (this.BGObj != null) {\r\n            if (this.BGObj[\"alt\"] != null) {\r\n                cc.loader.releaseRes(this.BGObj['path'] + \"/s\");\r\n                this.BGObj[\"alt\"] = null\r\n            }\r\n            for (let str in this.BGObj['sprite']) {\r\n                cc.loader.releaseAsset(this.BGObj['sprite'][str]);\r\n            }\r\n            for (let i = 0; i < this.BGObj['pool'].length; i++) {\r\n                this.BGObj['pool'][i].destroy();\r\n            }\r\n            if (this.BGNode != null) {\r\n                this.BGNode.destroy();\r\n                this.BGNode = null;\r\n            }\r\n        }\r\n        if (this._mapCameraNode != null) {\r\n            this._mapCameraNode.off('position-changed', this.onMapCamera, this);//销毁摄像机上的事件\r\n        }\r\n        this.BGObj = null;\r\n        this.mcArr = null;\r\n        this.pathFind = null;\r\n        this.PathGridObj = null;\r\n        this.killFrameArr = null;\r\n        this.nodeParentObj = null;\r\n        this.SpriteObj = null;\r\n        this.MapSprArr = null;\r\n        this.LayerArr = null;\r\n        this.LayerNodeArr = null;\r\n        this.LayerNodeObj = null;\r\n        this.stageRectObj = null;\r\n        this.stageNodeObj = null;\r\n        this.showNodeObj = null;\r\n        this.killArr = null;\r\n        this.killSprArr = null;\r\n        this.LocObj = null;\r\n        this.Loading = null;\r\n        this.layerRect = null;\r\n        this.Init = null;\r\n        this.onLoadYMovieClip = null;\r\n        this.onLoadSprite = null;\r\n        this.onLoadSpriteParent = null;\r\n        this.killSprite = null;\r\n        this.killSpriteParent = null;\r\n        this.killYMovieClip = null;\r\n        this.ymcAllObj = null;\r\n        this.ymcStageArr = null;\r\n        this.MapMcArr = null;\r\n        this.ymcFrameObj = null;\r\n        this.ymcMapSprArr = null;\r\n    },\r\n    /********返回图层实际对像的数据*******/\r\n    //@public\r\n    getLayerRectFun: function (str) {\r\n        if (str != null) { return this.layerRect[str][0]; }\r\n    },\r\n    //@public\r\n    getLayerNodeFun: function (str) {\r\n        if (str != null) { return this.LayerNodeObj[str]; }\r\n    },\r\n    /******清除池中的node********/\r\n    //@public\r\n    killNodePool: function (timOrName) {\r\n        if (timOrName == null) { return; }\r\n        let bo = (timOrName.constructor == Number);\r\n        for (let i = 0; i < this.MapSprArr.length; i++) {\r\n            let arr = this.MapSprArr[i][2];\r\n            if (bo) {\r\n                let id = this.MapSprArr[i][3];\r\n                if (this.timInt - id > timOrName) {\r\n                    for (let c = 0; c < arr.length; c++) {\r\n                        arr[i].destroy();\r\n                    }\r\n                    this.MapSprArr[i][2] = [];\r\n                }\r\n            } else {\r\n                let id = this.MapSprArr[i][0];\r\n                if (id == timOrName) {\r\n                    for (let c = 0; c < arr.length; c++) {\r\n                        arr[i].destroy();\r\n                    }\r\n                    this.MapSprArr[i][2] = [];\r\n                }\r\n            }\r\n        }\r\n        for (let str in this.mcPool) {\r\n            let arr = this.mcPool[str][\"pool\"];\r\n            if (bo) {\r\n                let t = this.mcPool[str][\"timer\"];\r\n                if (this.timInt - t > timOrName) {\r\n                    for (let c = 0; c < arr.length; c++) {\r\n                        arr[i].removeThis();\r\n                    }\r\n                    this.mcPool[str][\"pool\"] = [];\r\n                }\r\n            } else {\r\n                if (this.mcPool[str][\"name\"] == timOrName) {\r\n                    for (let c = 0; c < arr.length; c++) {\r\n                        arr[i].removeThis();\r\n                    }\r\n                    this.mcPool[str][\"pool\"] = [];\r\n                }\r\n            }\r\n        }\r\n    },\r\n    /****public****更改替换所有图块*******/\r\n    setSpriteFrame: function (path, name, frame) {\r\n        if (this.SpriteObj[path + '-' + name] != null) {\r\n            let pa = this.SpriteObj[path + '-' + name];\r\n            this.SpriteObj[path + '-' + name] = frame;\r\n            for (let i = 0; i < this.LayerNodeArr.length; i++) {\r\n                for (let l = 0; l < this.LayerNodeArr[i].childrenCount; l++) {\r\n                    let n = this.LayerNodeArr[i].children[l];\r\n                    let spr = n.getComponent(cc.Sprite);\r\n                    if (spr != null && spr.spriteFrame == pa) {\r\n                        spr.spriteFrame = frame;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    LoadLength: function () {\r\n        return this.MapObj['loadLen']\r\n    },\r\n    /********加载所有贴图********/\r\n    onSrpiteFun: function () {\r\n        this.killArr = [];\r\n        this.killSprArr = [];\r\n        this.killFrameArr = [];\r\n        let loadInt = 0;\r\n        let loadLen = this.MapObj['loadLen'];\r\n\r\n        let _this = this;\r\n        if (this.BGObj != null) {\r\n            loadLen++;\r\n            cc.loader.loadRes(this.BGObj['path'] + \"/s\", cc.SpriteAtlas, function (err, atlas) {\r\n                loadInt++;\r\n                _this.BGObj[\"alt\"] = atlas;\r\n\r\n                if (_this.Loading != null) { _this.Loading(loadInt, loadLen); }\r\n                if (loadInt >= loadLen) { _this.onLayerFun(); }\r\n            })\r\n            if (loadLen == 0) { return; }\r\n        }\r\n        if (loadLen == 0) {\r\n            this.onLayerFun();\r\n            return;\r\n        }\r\n        let fraArr = this.MapObj['fraArr'];\r\n        let atlArr = this.MapObj['atlArr'];\r\n\r\n        let rArr = [];\r\n\r\n        for (let str in fraArr) {\r\n            cc.loader.loadRes(str, cc.SpriteFrame, function (err, spriteFrame) {\r\n                let f = spriteFrame.clone();\r\n                _this.killFrameArr[_this.killFrameArr.length] = f;\r\n                _this.SpriteObj[str + '-' + fraArr[str]] = f;\r\n                _this.killSprArr[_this.killSprArr.length] = [str, spriteFrame]\r\n                f.getTexture().setFilters(cc.Texture2D.Filter.NEAREST, cc.Texture2D.Filter.NEAREST);\r\n                loadInt++;\r\n                if (_this.Loading != null) { _this.Loading(loadInt, loadLen); }\r\n                if (loadInt >= loadLen) { _this.onLayerFun(); }\r\n            })\r\n        }\r\n        let frame2 = null;\r\n        for (let str2 in atlArr) {\r\n            cc.loader.loadRes(str2, cc.SpriteAtlas, function (err, atlas) {\r\n                let deps = cc.loader.getDependsRecursively(atlas);\r\n                for (let i = 0; i < atlArr[str2].length; i++) {\r\n                    frame2 = atlas.getSpriteFrame(atlArr[str2][i]);\r\n                    _this.killFrameArr[_this.killFrameArr.length] = frame2;\r\n                    _this.SpriteObj[str2 + '-' + atlArr[str2][i]] = frame2;\r\n                }\r\n                for (let a = 0; a < deps.length; a++) {\r\n                    //可否优化?\r\n                    _this.killArr[_this.killArr.length] = deps[a];\r\n                }\r\n                loadInt++;\r\n                if (_this.Loading != null) { _this.Loading(loadInt, loadLen); }\r\n                if (loadInt >= loadLen) { _this.onLayerFun(); }\r\n            })\r\n        }\r\n        //cc.loader.release(this.killArr);//释放贴图\r\n    },\r\n    addNode: function (obj, n) {\r\n\r\n        let newNode;\r\n        if (n == null) {\r\n            newNode = new cc.Node();\r\n        } else {\r\n            newNode = n;\r\n        }\r\n        newNode.anchorX = 0;\r\n        newNode.anchorY = 1;\r\n        for (let str in obj) {\r\n            if (str == \"Collider\" || str == \"PolygonCollider\") {\r\n                this.hitObject(newNode, this.getComponentType(str), obj[str]);\r\n            } else if (str == \"Sprite\" || str == \"Graphics\") {\r\n                let SprObj = obj[str];\r\n                let spr = newNode.addComponent(this.getComponentType(str));\r\n                for (let str2 in SprObj) {\r\n                    if (str == \"Graphics\" && (str2 == \"rect\")) {\r\n                        if (str2 == \"rect\") {\r\n                            spr.rect(SprObj[str2].x, SprObj[str2].y, SprObj[str2].width, SprObj[str2].height);\r\n                        }\r\n                    } else if (str2 == \"spriteFrame\") {\r\n                        spr[str2] = this.SpriteObj[SprObj[str2]];\r\n                    } else if (str2 == \"fillColor\") {\r\n                        spr[str2] = new cc.Color(SprObj[str2].r, SprObj[str2].g, SprObj[str2].b, SprObj[str2].a);\r\n                    } else {\r\n                        spr[str2] = SprObj[str2];\r\n                    }\r\n                }\r\n                if (this.revise) {\r\n                    if (str == 'Sprite') {\r\n                        newNode.width += 1;\r\n                        newNode.height += 1;;\r\n                    }\r\n\r\n                } if (str == \"Graphics\") { spr.fill(); }\r\n            } else {\r\n                newNode[str] = obj[str];\r\n            }\r\n        }\r\n        return newNode;\r\n    },\r\n    hitObject: function (newNode, type, arr) {\r\n        for (let i = 0; i < arr.length; i++) {\r\n            let spr = newNode.addComponent(type);\r\n            let obj = arr[i];\r\n            if (obj['pz'] != null) {\r\n                if (newNode.pz == null) {\r\n                    newNode.pz = [];\r\n                }\r\n                newNode.pz[newNode.pz.length] = [spr, obj['pz']];\r\n            }\r\n            for (let str in obj) {\r\n                spr[str] = obj[str];\r\n            }\r\n        }\r\n    },\r\n    getComponentType: function (str) {\r\n        if (str == \"Sprite\") {\r\n            return cc.Sprite;\r\n        } else if (str == \"Graphics\") {\r\n            return cc.Graphics;\r\n        } else if (str == \"Collider\") {\r\n            return cc.BoxCollider;\r\n        } else if (str == \"PolygonCollider\") {\r\n            return cc.PolygonCollider;\r\n        }\r\n    },\r\n    getBGNode: function (x, y) {\r\n        let str = this.BGObj[\"name\"] + x + this.BGObj[\"pname\"] + y;\r\n        let n;\r\n        if (this.BGObj['pool'].length > 0) {\r\n            let l = this.BGObj['pool'].length - 1\r\n            n = this.BGObj['pool'][l];\r\n            this.BGObj['pool'].splice(l, 1);\r\n        } else {\r\n            n = new cc.Node();\r\n            n.spr = n.addComponent(cc.Sprite);\r\n            n.anchorX = 0;\r\n            n.anchorY = 1;\r\n        }\r\n\r\n        if (this.BGObj['sprite'][str] != null) {\r\n\r\n            n.spr.spriteFrame = this.BGObj['sprite'][str];\r\n        } else {\r\n            this.LoadMapBG(str);\r\n            n.spr.spriteFrame = this.BGObj[\"alt\"].getSpriteFrame(str);\r\n            if (n.spr.spriteFrame == null) {\r\n                console.log(\"找到空\" + str);\r\n            }\r\n\r\n        }\r\n\r\n        let nx = x * this.BGObj['width'];\r\n        let ny = y * this.BGObj['height'] * -1;\r\n        n.x = nx;\r\n        n.y = ny;\r\n        n.width = this.BGObj['width'];\r\n        n.height = this.BGObj['height'];\r\n        n.parent = this.BGNode;\r\n        this.BGObj[\"stageNode\"][str] = n;\r\n\r\n    },\r\n    BGInit: function () {\r\n        if (this.BGObj == null) { return; }\r\n        this.BGObj['rect'] = new cc.Rect(this.BGObj['x'], this.BGObj['y'], this.BGObj['width'] * this.BGObj['nx'], this.BGObj['height'] * this.BGObj['ny']);\r\n        this.BGObj['pool'] = [];\r\n        this.BGObj['sprite'] = {};\r\n        this.BGObj[\"length\"] = this.BGObj['nx'] * this.BGObj['ny'];\r\n        this.BGObj[\"loadArr\"] = [];\r\n        this.BGObj[\"loadObj\"] = {};\r\n        this.BGObj[\"stageNode\"] = {};\r\n        this.BGObj[\"rect2\"] = null;\r\n        this.BGObj[\"loadBo\"] = false;\r\n        this.BGNode = new cc.Node();\r\n        this.BGNode.zIndex = -1;\r\n        this.BGNode.x = this.BGObj['x'];\r\n        this.BGNode.y = this.BGObj['y'];\r\n        this.BGNode.parent = this.node;\r\n        for (let w = 0; w < this.BGObj['nx']; w++) {\r\n            for (let h = 0; h < this.BGObj['ny']; h++) {\r\n                let str = this.BGObj[\"name\"] + w + this.BGObj[\"pname\"] + h;\r\n                this.BGObj[\"loadArr\"][this.BGObj[\"loadArr\"].length] = str;\r\n                this.BGObj[\"loadObj\"][str] = false;\r\n            }\r\n        }\r\n        this.LoadMapBG(null, true);\r\n\r\n    },\r\n    getBGID: function () {\r\n        let id = this.BGObj[\"loadArr\"].length - 1\r\n        let str = this.BGObj[\"loadArr\"][id];\r\n        this.BGObj[\"loadArr\"].splice(id, 1);\r\n        return str;\r\n    },\r\n    LoadMapBG: function (str, bo) {\r\n        if (this.BGObj == null || this.BGObj[\"length\"] == 0) { return; }\r\n        let _this = this;\r\n        if (bo) {\r\n            if (this.BGObj[\"loadArr\"].length > 0) {\r\n                str = this.getBGID();\r\n                while (this.BGObj[\"stageNode\"][str] != null) {\r\n                    str = this.getBGID();;\r\n                }\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n        if (!this.BGObj[\"loadObj\"][str]) {\r\n            this.BGObj[\"loadObj\"][str] = true;\r\n        } else {\r\n            return;\r\n        }\r\n        cc.loader.loadRes(this.BGObj['path'] + \"/\" + str, cc.SpriteFrame, function (err, spriteFrame) {\r\n            if (err) {\r\n                return;\r\n            }\r\n            if (_this.BGObj == null) {\r\n                cc.loader.releaseAsset(spriteFrame);\r\n                return;\r\n            }\r\n            _this.BGObj['sprite'][str] = spriteFrame;\r\n            if (_this.BGObj[\"stageNode\"][str] != null) {\r\n                _this.BGObj[\"stageNode\"][str].spr.spriteFrame = spriteFrame;\r\n            }\r\n            _this.BGObj[\"length\"]--;\r\n            if (_this.BGObj[\"length\"] == 0) {\r\n                cc.loader.releaseRes(_this.BGObj['path'] + \"/s\");\r\n                _this.BGObj[\"alt\"] = null;\r\n                this.BGObj[\"loadObj\"] = null;\r\n            } else {\r\n                if (bo) {\r\n                    _this.LoadMapBG(null, true);\r\n                }\r\n            }\r\n\r\n        })\r\n    },\r\n    AddMapBG: function (rect) {\r\n\r\n        let pw = this.BGObj['width'];\r\n        let ph = this.BGObj['height'];\r\n        this.BGObj['rect'].x = 0;\r\n        this.BGObj['rect'].y = 0;\r\n\r\n        let intersection = new cc.Rect();\r\n        this.BGObj['rect'].intersection(intersection, new cc.Rect(rect.x - this.BGNode.x, rect.y * -1 - rect.height - this.BGNode.y * -1, rect.width, rect.height));\r\n        let cx = Math.floor(intersection.x / pw);\r\n        let cy = Math.floor(intersection.y / ph);\r\n        let cw = Math.ceil((intersection.x + intersection.width) / pw);\r\n        let ch = Math.ceil((intersection.y + intersection.height) / ph);\r\n        if (cx < 0) { cx = 0; }\r\n        if (cy < 0) { cy = 0; }\r\n        if (cw >= this.BGObj['nx']) { cw = this.BGObj['nx'] - 1; }\r\n        if (ch >= this.BGObj['ny']) { ch = this.BGObj['ny'] - 1; }\r\n\r\n        if (this.BGObj[\"rect2\"] != null) {\r\n            let rArr = this.getHitRectObj(this.BGObj[\"rect2\"], new cc.Rect(cx, cy, cw - cx, ch - cy));\r\n            for (let o = 0; o < rArr.length; o++) {\r\n                let cx2 = rArr[o].x;\r\n                let cy2 = rArr[o].y;\r\n                let cw2 = rArr[o].width + rArr[o].x;\r\n                let ch2 = rArr[o].height + rArr[o].y;\r\n\r\n                for (let x = cx2; x < cw2; x++) {\r\n                    for (let y = cy2; y < ch2; y++) {\r\n                        let nx = x * pw;\r\n                        let ny = y * ph * -1;\r\n                        let str = this.BGObj[\"name\"] + x + this.BGObj[\"pname\"] + y;\r\n                        if (this.BGObj[\"stageNode\"][str] != null) {\r\n                            this.BGObj[\"stageNode\"][str].parent = null;\r\n                            this.BGObj['pool'].push(this.BGObj[\"stageNode\"][str]);\r\n                            delete (this.BGObj[\"stageNode\"][str]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (intersection.width > 0 && intersection.height > 0) {\r\n                let rArr = this.getHitRectObj(new cc.Rect(cx, cy, cw - cx, ch - cy), this.BGObj[\"rect2\"]);\r\n                for (let o = 0; o < rArr.length; o++) {\r\n                    this.fBG(rArr[o].x, rArr[o].y, rArr[o].width + rArr[o].x, rArr[o].height + rArr[o].y);\r\n                }\r\n            }\r\n        } else {\r\n            this.fBG(cx, cy, cw, ch);\r\n        }\r\n        if (this.BGNode.childrenCount > 0) {\r\n            this.BGObj[\"rect2\"] = new cc.Rect(cx, cy, cw - cx, ch - cy);\r\n        } else {\r\n            this.BGObj[\"rect2\"] = null;\r\n        }\r\n\r\n    },\r\n    fBG: function (cx, cy, cw, ch) {\r\n        for (let w = cx; w <= cw; w++) {\r\n            for (let h = cy; h <= ch; h++) {\r\n                this.getBGNode(w, h);\r\n            }\r\n        }\r\n    },\r\n    AddMapChildFun: function (rect, nstr) {\r\n        if (this.BGObj != null) {\r\n            this.AddMapBG(rect);\r\n        }\r\n        if (nstr != \"this\") { if (this.LayerNodeObj[nstr] == null) { return; } }\r\n        let jlObj = {};\r\n        for (let i = 0; i < this.LayerArr.length; i++) {\r\n            if (nstr != \"this\") { if (this.LayerNodeArr[i].name != nstr) { continue; } }\r\n            let n = this.LayerNodeArr[i];\r\n            let pw = this.layerRect[n.name][1];\r\n            let ph = this.layerRect[n.name][2];\r\n            let cx = Math.floor(((rect.x + this.flagPoint.x) / pw));\r\n            let cy = Math.floor(((rect.y + this.flagPoint.y) / ph)) + 1;\r\n            let cw = Math.ceil(((rect.x + this.flagPoint.x + rect.width - (cx * pw)) / pw));\r\n            let ch = Math.ceil(((rect.y + this.flagPoint.y + rect.height - (cy * ph)) / ph)) + 1;\r\n            let rArr = [];\r\n\r\n            if (this.stageRectObj[n.name] != null) {\r\n                let r2 = this.stageRectObj[n.name];\r\n                if (cx != r2.x || cy != r2.y || cw != r2.width || ch != r2.height) {\r\n                    rArr = this.getHitRectObj(new cc.Rect(cx, cy, cw, ch), r2);\r\n                    if (this.LayerNodeArr[i].parent != null) {\r\n                        this.removeNodeChildFun(this.getHitRectObj(r2, new cc.Rect(cx, cy, cw, ch)), new cc.Rect(cc.view.getVisibleOrigin().x, cc.view.getVisibleOrigin().y, cc.view.getVisibleSize().width, cc.view.getVisibleSize().height), n.name);\r\n                        this.stageRectObj[n.name] = new cc.Rect(cx, cy, cw, ch);\r\n                    } else {\r\n                        this.removeNodeChildFun([r2], new cc.Rect(), n.name);\r\n                        this.stageRectObj[n.name] = null;\r\n                        continue;//不在舞台之中时，只删不加\r\n                    }\r\n                } else {\r\n                    continue;//覆盖跳过\r\n                }\r\n            } else {\r\n                if (this.LayerNodeArr[i].parent != null) {\r\n                    this.stageRectObj[n.name] = new cc.Rect(cx, cy, cw, ch);\r\n                    rArr = [new cc.Rect(cx, cy, cw, ch)];\r\n                } else {\r\n                    continue;//不在舞台之中时，空也不添加\r\n                }\r\n            }\r\n            for (let o = 0; o < rArr.length; o++) {\r\n                cx = rArr[o].x;\r\n                cy = rArr[o].y;\r\n                cw = rArr[o].width;\r\n                ch = rArr[o].height;\r\n                let obj = this.LayerArr[i][\"Position\"];\r\n                jlObj[this.LayerNodeArr[i].name] = {};\r\n                for (let w = 0; w < cw; w++) {\r\n                    let nx = cx * pw + w * pw;\r\n                    for (let h = 0; h < ch; h++) {\r\n                        let ny = cy * ph + h * ph;\r\n                        if (obj[nx] != null) {\r\n                            if (obj[nx][ny] != null) {\r\n                                jlObj[this.LayerNodeArr[i].name][nx + \" + \" + ny] = 0;\r\n                                let sxArr = obj[nx][ny];\r\n                                for (let t = 0; t < sxArr.length; t++) {\r\n                                    let id = sxArr[t];\r\n                                    let larr = this.nodeAllObj[this.LayerNodeArr[i].name][id];\r\n                                    this.addNodeChildFun(larr[0], (larr[1] - this.flagPoint.x), (larr[2] - this.flagPoint.y), i, id);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    /*******返回两个rect相交之外的rect数组，最多返回四个***********/\r\n    getHitRectObj: function (r1, r2) {\r\n        if ((r1.x + r1.width) <= r2.x || (r2.x + r2.width) <= r1.x || (r1.y + r1.height) <= r2.y || (r2.y + r2.height) <= r1.y) {//没有相交\r\n            return [r1];\r\n        } else {\r\n            let arr = [];\r\n            if (r1.x < r2.x) {//左下\r\n                let rzx = new cc.Rect(r1.x, r1.y, r2.x - r1.x, 0);\r\n                if (r2.y + r2.height < r1.y + r1.height) {\r\n                    rzx.height = r2.y + r2.height - r1.y;\r\n                } else {\r\n                    rzx.height = r1.height;\r\n                }\r\n                arr[arr.length] = rzx;\r\n            }\r\n            if (r1.y + r1.height > r2.y + r2.height) {//左上\r\n                let rzs = new cc.Rect(r1.x, r2.y + r2.height, 0, r1.y + r1.height - (r2.y + r2.height));\r\n                if (r2.x + r2.width < r1.x + r1.width) {\r\n                    rzs.width = (r2.x + r2.width) - r1.x;\r\n                } else {\r\n                    rzs.width = r1.width;\r\n                }\r\n                arr[arr.length] = rzs;\r\n            }\r\n            if (r1.y < r2.y) {//右下\r\n                let ryx = new cc.Rect(0, r1.y, 0, r2.y - r1.y);\r\n                if (r2.x > r1.x) {\r\n                    ryx.x = r2.x;\r\n                } else {\r\n                    ryx.x = r1.x;\r\n                }\r\n                ryx.width = r1.x + r1.width - ryx.x;\r\n                arr[arr.length] = ryx;\r\n            }\r\n            if (r1.x + r1.width > r2.x + r2.width) {//右上\r\n                let rys = new cc.Rect(r2.x + r2.width, 0, r1.x + r1.width - (r2.x + r2.width), 0);\r\n                if (r2.y > r1.y) {\r\n                    rys.y = r2.y;\r\n                } else {\r\n                    rys.y = r1.y;\r\n                }\r\n                rys.height = r1.y + r1.height - rys.y;\r\n                arr[arr.length] = rys;\r\n            }\r\n            return arr;\r\n        }\r\n    },\r\n\r\n    addNodeChildFun: function (id, x, y, tcID, NodeID) {\r\n        let r\r\n        let pw = this.layerRect[this.LayerNodeArr[tcID].name][1];\r\n        let ph = this.layerRect[this.LayerNodeArr[tcID].name][2];\r\n        let mcBo = false;\r\n        let lBo = false;\r\n        let zNode = null;\r\n        let parBo = false;\r\n        if (typeof (id) == 'number') {\r\n            let arr = this.MapSprArr[id];\r\n            if (arr[1][NodeID + ''] != null) {\r\n                return;\r\n            }\r\n            let nArr = arr[0];\r\n            let newNode;\r\n            if (arr[2].length > 0) {\r\n                let l = arr[2].length - 1\r\n                newNode = arr[2][l];\r\n                arr[2].splice(l, 1);\r\n                arr[3] = this.timInt;//重置池\r\n                newNode.x = x;\r\n                newNode.y = y;\r\n                newNode.zIndex = NodeID;\r\n                //  newNode.parent=this.LayerNodeArr[tcID];\r\n                arr[1][NodeID + ''] = newNode;\r\n            } else {\r\n                if (nArr.length >= 5) {\r\n                    newNode = this.addNode(this.extend({ \"name\": nArr[0], \"x\": x, \"y\": y, \"rotation\": nArr[4], \"zIndex\": NodeID }, nArr[1]));\r\n                } else {\r\n                    newNode = this.addNode(this.extend({ \"name\": nArr[0], \"x\": x, \"y\": y, \"zIndex\": NodeID }, nArr[1]));\r\n                }\r\n                arr[1][NodeID + ''] = newNode;\r\n            }\r\n            newNode.scaleX = 1;\r\n            newNode.scaleY = 1;\r\n            r = new cc.Rect(newNode.x, newNode.y, nArr[2], nArr[3]);\r\n            if (nArr.length >= 5 || this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''].length >= 4) {\r\n                if (this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][0] != null) { r.x = this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][0] - this.flagPoint.x; }\r\n                if (this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][1] != null) { r.y = this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][1] - this.flagPoint.y; }\r\n                if (this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][2] != null) { newNode.opacity = this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][2]; }\r\n                if (this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][4] != null) { newNode.scaleX = this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][4] }\r\n                if (this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][5] != null) { newNode.scaleY = this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][5] }\r\n                if (this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][3] != null) {\r\n                    parBo = true;\r\n                    this.addNodeParent(newNode, this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][3], tcID);\r\n                }\r\n            }\r\n            newNode.color = new cc.Color(255, 255, 255);\r\n            newNode.bID = [NodeID, this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''], r];\r\n            zNode = newNode;\r\n            newNode[\"Info\"] = this.infoObj[NodeID];\r\n            if (!parBo) { newNode.parent = this.LayerNodeArr[tcID] }\r\n            newNode.mapLayerName = newNode.parent.name;\r\n            this.showNodeObj[NodeID] = newNode;\r\n        } else {\r\n            if (this.MapMcArr[NodeID + ''] != null) {\r\n                return;\r\n            }\r\n            mcBo = true;\r\n            let strID = this.ymcMapSprArr[id][0];\r\n\r\n            if (this.mcPool[id] == null) {\r\n                this.mcPool[id] = {};\r\n                this.mcPool[id][\"pool\"] = [];\r\n                this.mcPool[id][\"name\"] = strID;\r\n            }\r\n\r\n            this.mcPool[id][\"timer\"] = this.timInt;\r\n            let ymc;\r\n            let pbo = false;\r\n\r\n            if (this.mcPool[id][\"pool\"].length <= 0) {\r\n                ymc = new YMovieClip();\r\n            } else {\r\n                let l = this.mcPool[id][\"pool\"].length - 1\r\n                ymc = this.mcPool[id][\"pool\"][l];\r\n                this.mcPool[id][\"pool\"].splice(l, 1);\r\n                pbo = true;\r\n\r\n\r\n            }\r\n\r\n            ymc.pid = id;\r\n\r\n\r\n            let eObj = {};\r\n            for (let eStr in this.ymcAllObj[strID][2]) {\r\n                for (let vStr in this.ymcAllObj[strID][2][eStr]) {\r\n                    eObj[eStr] = {};\r\n                    eObj[eStr][vStr] = null;\r\n                }\r\n            }\r\n            if (!pbo) {\r\n                ymc.Init(null, strID, this.ymcAllObj[strID][0], this.ymcAllObj[strID][1], eObj, this.ymcAllObj[strID][3], this.ymcAllObj[strID][4], this.MapSprArr, this.SpriteObj, this.revise);\r\n                this.addNode(this.ymcMapSprArr[id][1], ymc);\r\n            } else {\r\n                ymc.Init2(this.ymcAllObj[strID][3], this.MapSprArr, this.SpriteObj, this.revise);\r\n            }\r\n            ymc.setLocationFun(x, y);\r\n\r\n            if (this.ymcFrameObj[NodeID + ''] == null) {\r\n                lBo = true;\r\n                ymc.setFrame(0, this.ymcTimInt, 0, false, false);\r\n            } else {\r\n                ymc.setFrame(this.ymcFrameObj[NodeID + ''][0], this.ymcTimInt, this.ymcFrameObj[NodeID + ''][1], this.ymcFrameObj[NodeID + ''][2], this.ymcFrameObj[NodeID + ''][3]);\r\n            }\r\n\r\n            this.ymcStageArr[this.ymcStageArr.length] = ymc;\r\n            this.MapMcArr[NodeID + ''] = ymc;\r\n            ymc.zIndex = NodeID;\r\n            r = new cc.Rect(ymc.x + ymc.getRect().x, ymc.y + ymc.getRect().y, ymc.getRect().width, ymc.getRect().height);\r\n            id = ymc;\r\n            if (this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''].length >= 4) {//动画暂时不支持旋转，所以理论上不用添加0和1\r\n                if (this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][2] != null) { ymc.opacity = this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][2]; }\r\n                if (this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][4] != null) { newNode.scaleX = this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][4] }\r\n                if (this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][5] != null) { newNode.scaleY = this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][5] }\r\n                if (this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][3] != null) {\r\n                    parBo = true;\r\n                    this.addNodeParent(ymc, this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''][3][3], tcID);\r\n                }\r\n            }\r\n            ymc.color = new cc.Color(255, 255, 255);\r\n            ymc.bID = [NodeID, this.nodeAllObj[this.LayerNodeArr[tcID].name][NodeID + ''], r];\r\n            ymc.info = this.infoObj[NodeID];\r\n            if (!parBo) { ymc.parent = this.LayerNodeArr[tcID] }\r\n            ymc.mapLayerName = ymc.parent.name;\r\n\r\n            this.showNodeObj[NodeID] = ymc;\r\n            zNode = ymc;\r\n\r\n        }\r\n        this.setStageNodeInfo(this.LayerNodeArr[tcID].name, NodeID, pw, ph, false);\r\n        if (mcBo) {\r\n            if (this.onLoadYMovieClip != null) {\r\n                this.onLoadYMovieClip(zNode, this.LayerNodeArr[tcID].name, lBo);\r\n            }\r\n        } else {\r\n            if (this.onLoadSprite != null) {\r\n                this.onLoadSprite(zNode, this.LayerNodeArr[tcID].name);\r\n            }\r\n        }\r\n    },\r\n    /*************组合多个Node********/\r\n    addNodeParent: function (node, id, tcID) {\r\n        if (this.nodeParentObj[id] != null) {\r\n            if (this.nodeParentObj[id][7] == null) {\r\n                let pnode = this.addNode(this.extend({ 'name': this.nodeParentObj[id][0], 'x': this.nodeParentObj[id][1] - this.flagPoint.x, 'y': this.nodeParentObj[id][2] - this.flagPoint.y, 'zIndex': this.nodeParentObj[id][5] + 0.5, 'parent': this.LayerNodeArr[tcID], }, this.nodeParentObj[id][6]));\r\n                node._y_parent = pnode;\r\n                node.parent = pnode;\r\n                this.nodeParentObj[id][7] = pnode;\r\n                node.x -= pnode.x;\r\n                node.y -= pnode.y;\r\n                pnode.zIndex = node.zIndex;\r\n                if (this.onLoadSpriteParent != null) {\r\n                    this.onLoadSpriteParent(pnode, this.LayerNodeArr[tcID].name, true);\r\n                }\r\n            } else {\r\n                node._y_parent = this.nodeParentObj[id][7];\r\n                node.parent = this.nodeParentObj[id][7];\r\n                node.x -= this.nodeParentObj[id][7].x;\r\n                node.y -= this.nodeParentObj[id][7].y;\r\n                if (this.nodeParentObj[id][7].parent == null) {\r\n                    this.nodeParentObj[id][7].parent = this.LayerNodeArr[tcID];\r\n                    this.nodeParentObj[id][7].zIndex = node.zIndex;\r\n                    if (this.onLoadSpriteParent != null) {\r\n                        this.onLoadSpriteParent(this.nodeParentObj[id][7], this.LayerNodeArr[tcID].name, false);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        node._y_parID = id;\r\n    },\r\n    /****publice***设置更改动画帧*注意一旦用此方法，那么动画的onLoadYMovieClip中的是否第一次加载参数将为flash*****/\r\n    setYMovieClipFrame: function (nodeID, frame, pBo) {\r\n        if (this.showNodeObj[nodeID] != null) {\r\n            if (pBo) {\r\n                if (this.showNodeObj[nodeID].gotoAndPlay != null) {\r\n                    this.showNodeObj[nodeID].gotoAndPlay(frame);\r\n                }\r\n            } else {\r\n                if (this.showNodeObj[nodeID].gotoAndStop != null) {\r\n                    this.showNodeObj[nodeID].gotoAndStop(frame);\r\n                }\r\n            }\r\n        } else {\r\n            if (typeof (frame) == 'number') {\r\n                if (frame > 0) {\r\n                    frame -= 1;\r\n                }\r\n            } else {\r\n                for (let str in this.nodeAllObj) {\r\n                    if (this.nodeAllObj[str][nodeID]) {\r\n                        frame = this.ymcAllObj[this.ymcMapSprArr[this.nodeAllObj[str][nodeID][0]][0]][4][frame];\r\n                        break;\r\n                    }\r\n                }\r\n                if (frame == null) { return; }\r\n\r\n            }\r\n            if (pBo) {\r\n                this.ymcFrameObj[nodeID] = [frame, this.ymcTimInt, false, false];\r\n            } else {\r\n                this.ymcFrameObj[nodeID] = [frame, this.ymcTimInt, true, true];\r\n            }\r\n        }\r\n    },\r\n    /*************清除组合的父级Node********/\r\n    removeNodeParent: function (node, str) {\r\n        if (node._y_parent != null) {\r\n            if (node._y_parent.childrenCount == 0) {\r\n                node._y_parent.parent = null;\r\n                if (this.killSpriteParent != null) {\r\n                    this.onLoadSpriteParent(node._y_parent, str);\r\n                }\r\n            }\r\n            node._y_parent = null;\r\n        }\r\n        if (node._y_parID != null) {\r\n            node._y_parID = null;\r\n        }\r\n    },\r\n    /*********将node添加到舞台对像中**********/\r\n    addStageNodeObjFun: function (tcName, nodeID, nhStr) {\r\n        if (this.stageNodeObj[tcName] == null) { this.stageNodeObj[tcName] = {}; }\r\n        if (this.stageNodeObj[tcName][nhStr] == null) { this.stageNodeObj[tcName][nhStr] = {}; }\r\n        if (this.stageNodeObj[tcName][nhStr][nodeID] === undefined) {\r\n            this.stageNodeObj[tcName][nhStr][nodeID] = null;\r\n        }\r\n    },\r\n    extend: function (obj1, obj2) {\r\n        for (let key in obj2) {\r\n            obj1[key] = obj2[key];\r\n        }\r\n        return obj1;\r\n    },\r\n    /***public******通坐标返回某块区域内的所有node**********/\r\n    getNodesByLocation: function (LayerName, x, y) {\r\n        let obj = this.stageNodeObj[LayerName];\r\n        let arr = [];\r\n        if (obj != null) {\r\n            let pw = this.layerRect[LayerName][1];\r\n            let ph = this.layerRect[LayerName][2];\r\n            let nx = Math.floor(((x + this.flagPoint.x) / pw)) * pw;\r\n            let ny = Math.ceil(((y + this.flagPoint.y) / ph)) * ph;\r\n            if (obj[nx + '-' + ny] != null) {\r\n                let sarr = this.stageNodeObj[LayerName][nx + '-' + ny];\r\n                if (sarr != null) {\r\n                    for (let str in sarr) {\r\n                        if (this.showNodeObj[str] != null) {\r\n                            arr[arr.length] = this.showNodeObj[str];\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return arr;\r\n    },\r\n    /***public******通坐标返回某块区域内的最顶部的node**********/\r\n    getTopNodeByLocation: function (LayerName, x, y) {\r\n        let obj = this.stageNodeObj[LayerName];\r\n        let node;\r\n        if (obj != null) {\r\n            let pw = this.layerRect[LayerName][1];\r\n            let ph = this.layerRect[LayerName][2];\r\n            let nx = Math.floor(((x + this.flagPoint.x) / pw)) * pw;\r\n            let ny = Math.ceil(((y + this.flagPoint.y) / ph)) * ph;\r\n            if (obj[nx + '-' + ny] != null) {\r\n                let sarr = this.stageNodeObj[LayerName][nx + '-' + ny];\r\n                if (sarr != null) {\r\n                    for (let str in sarr) {\r\n                        if (this.showNodeObj[str] != null) {\r\n                            if (node == null) {\r\n                                ;\r\n                                node = this.showNodeObj[str];\r\n                            } else {\r\n                                if (node.zInde < this.showNodeObj[str].zIndex) {\r\n                                    node = this.showNodeObj[str];\r\n                                }\r\n                            };\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return node;\r\n    },\r\n    /****public*****将图块node信息添加到地图中,参数1 可以是ID也可以图块Node**********/\r\n    addMapNode: function (n, LayerName, x, y) {\r\n        let id = null;\r\n        let nBo = false;\r\n        if (n instanceof cc.Node) {\r\n            if (n.bID == null) { return false }\r\n            id = n.bID[0];\r\n            nBo = true;\r\n        } else {\r\n            if (typeof (n) == 'number') {\r\n                id = n;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        if (this.nodeAllObj[LayerName] == null) { return false; }\r\n        let pw = this.layerRect[LayerName][1];\r\n        let ph = this.layerRect[LayerName][2];\r\n        let i = -1;\r\n        if (this.LayerNodeObj[LayerName] != null) {\r\n            i = this.LayerNodeObj[LayerName].LayerArrID;\r\n        } else {\r\n            return false;\r\n        }\r\n        let nArr = null;\r\n        for (let str in this.nodeAllObj) {\r\n            if (str != LayerName) {\r\n                if (this.nodeAllObj[str][id] != null) {\r\n                    nArr = this.nodeAllObj[str][id];\r\n                    this.setStageNodeInfo(str, id, this.layerRect[str][1], this.layerRect[str][2], true);\r\n                    this.Info(str, id, i, null, true);//清除地图中的信息\r\n                    delete (this.nodeAllObj[str][id]);\r\n                }\r\n            }\r\n        }\r\n        if (nArr != null) {\r\n            this.nodeAllObj[LayerName][id] = nArr;\r\n            this.setStageNodeInfo(LayerName, id, pw, ph, true);\r\n            this.Info(LayerName, id, i, null, true);//清除地图中的信息\r\n        }\r\n        let mcBo = false;\r\n        if (typeof (this.nodeAllObj[LayerName][id][0]) != 'number') {\r\n            mcBo = true;\r\n        }\r\n        let node = this.showNodeObj[id];\r\n        if (x == null) { x = this.nodeAllObj[LayerName][id][1] - this.flagPoint.x; }\r\n        if (y == null) { y = this.nodeAllObj[LayerName][id][2] - this.flagPoint.y; }\r\n        let ix = this.nodeAllObj[LayerName][id][1] - this.flagPoint.x;\r\n        let iy = this.nodeAllObj[LayerName][id][2] - this.flagPoint.y;\r\n        let _this = this;\r\n        this.setNodeLocation(LayerName, id, x + _this.flagPoint.x, y + _this.flagPoint.y, node);\r\n        this.Info(LayerName, id, i, function (lx, ly, jx) {//添加地图中的信息\r\n            let stageRect = new cc.Rect(cc.view.getVisibleOrigin().x, cc.view.getVisibleOrigin().y, cc.view.getVisibleSize().width, cc.view.getVisibleSize().height);\r\n            let nXY = new cc.Vec2(jx.x - _this.flagPoint.x, jx.y - _this.flagPoint.y);\r\n            let rect = new cc.Rect(0, 0, jx.width * this.node.scaleX, jx.height * this.node.scaleY);\r\n            let dian = _this.LayerNodeObj[LayerName].convertToWorldSpaceAR(cc.v2(nXY.x, nXY.y));\r\n            rect.x = dian.x;\r\n            rect.y = dian.y * -1;\r\n            let r1 = rect;\r\n            let r2 = new cc.Rect(stageRect.x, stageRect.y - stageRect.height, stageRect.width, stageRect.height);\r\n            if ((r1.x + r1.width) <= r2.x || (r2.x + r2.width) <= r1.x || (r1.y + r1.height) <= r2.y || (r2.y + r2.height) <= r1.y) {//这里应该必要\r\n                if (_this.showNodeObj[id] != null) {\r\n                    _this.killStageNode(LayerName, _this.showNodeObj[id], id, mcBo);\r\n                }\r\n            } else {\r\n                if (_this.showNodeObj[id] != null) {\r\n                    _this.showNodeObj[id].x = x;\r\n                    _this.showNodeObj[id].y = y;\r\n                    _this.setStageNodeInfo(LayerName, id, pw, ph, false);\r\n                } else {\r\n                    if (_this.LayerNodeArr[i].parent != null) {\r\n                        _this.addNodeChildFun(_this.nodeAllObj[LayerName][id][0], x - _this.flagPoint.x, y - _this.flagPoint.y, i, id)\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        if (nBo) { n.destroy(); }\r\n        return true;\r\n    },\r\n    /*********删除舞台外面的对像**********/\r\n    removeNodeChildFun: function (rArr, stageRect, nStr) {\r\n        for (let i = 0; i < this.LayerNodeArr.length; i++) {\r\n            if (nStr != 'this') {\r\n                if (this.LayerNodeArr[i].name != nStr) { continue; }\r\n            }\r\n            for (let o = 0; o < rArr.length; o++) {\r\n                let pw = this.layerRect[this.LayerNodeArr[i].name][1];\r\n                let ph = this.layerRect[this.LayerNodeArr[i].name][2];\r\n                let cx = rArr[o].x;\r\n                let cy = rArr[o].y;\r\n                let cw = rArr[o].width;\r\n                let ch = rArr[o].height;\r\n                let obj = this.stageNodeObj[this.LayerNodeArr[i].name];\r\n                if (obj == null) { continue; }\r\n                for (let w = 0; w < cw; w++) {\r\n                    for (let h = 0; h < ch; h++) {\r\n                        let nx = cx * pw + w * pw;\r\n                        let ny = cy * ph + h * ph;\r\n                        if (obj[nx + \"-\" + ny] != null) {\r\n                            let sarr = this.stageNodeObj[this.LayerNodeArr[i].name][nx + \"-\" + ny];\r\n                            if (sarr == null) { continue; }\r\n                            for (let str in sarr) {\r\n                                this.removeStageNode(str, stageRect);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    /************清除舞台上单个Node*************/\r\n    removeStageNode: function (nodeID, stageRect) {\r\n        let n = this.showNodeObj[nodeID];\r\n        if (n == null) { return; }\r\n        let nRect = n.bID[2];\r\n        let nPar;\r\n        let mcBo = false;\r\n        if (typeof (n.bID[1][0]) == 'number') {\r\n            if (n._y_parent != null) {\r\n                nPar = n._y_parent.parent;\r\n            } else {\r\n                nPar = n.parent;\r\n            }\r\n        } else {\r\n            nPar = n.getPraent();\r\n            mcBo = true;\r\n        }\r\n        if (nPar == null) {\r\n            return;\r\n        }\r\n        let layerName = nPar.name;\r\n        let pw = this.layerRect[layerName][1];\r\n        let ph = this.layerRect[layerName][2];\r\n        let nXY = new cc.Vec2(nRect.x, nRect.y);\r\n        let dian = nPar.convertToWorldSpaceAR(cc.v2(n.MRect.x * pw - this.flagPoint.x, n.MRect.y * ph - this.flagPoint.y));\r\n        let r1 = new cc.Rect(dian.x, dian.y * -1, (n.MRect.width - n.MRect.x + 1) * pw * this.node.scaleX, (n.MRect.y - n.MRect.height + 1) * ph * this.node.scaleY);\r\n        let r2 = new cc.Rect(stageRect.x, stageRect.y - stageRect.height, stageRect.width, stageRect.height);\r\n        if ((r1.x + r1.width) <= r2.x || (r2.x + r2.width) <= r1.x || (r1.y + r1.height) <= r2.y || (r2.y + r2.height) <= r1.y) {//这里应该必要\r\n            this.setStageNodeInfo(layerName, nodeID, pw, ph, true);\r\n        } else {\r\n            return;\r\n        }\r\n        this.killStageNode(layerName, n, nodeID, mcBo);\r\n    },\r\n    /*public*****获得地图Node信息,第一个参数可以Node也可以是ID*******/\r\n    getMapNodeObj: function (IDorN, LayerName) {\r\n        let nodeID = null;\r\n        if (IDorN instanceof cc.Node) {\r\n            nodeID = IDorN.bID[0];\r\n            LayerName= IDorN.mapLayerName\r\n        } else {\r\n            nodeID = IDorN;\r\n        }\r\n        if (LayerName == null) {\r\n            for (let str in this.nodeAllObj) {\r\n                if (this.nodeAllObj[str][nodeID] != null) {\r\n                    LayerName = str;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (LayerName == null) { return null; }\r\n        let obj = {};\r\n        if (typeof (this.nodeAllObj[LayerName][nodeID][0]) == 'number') {\r\n            obj['name'] = this.MapSprArr[this.nodeAllObj[LayerName][nodeID][0]][0];\r\n        } else {\r\n            obj['name'] = this.ymcMapSprArr[this.nodeAllObj[LayerName][nodeID][0]][0];\r\n        }\r\n        obj['LayerName'] = LayerName;\r\n        obj['id'] = nodeID;\r\n        obj['x'] = this.nodeAllObj[LayerName][nodeID][1] - this.flagPoint.x;\r\n        obj['y'] = this.nodeAllObj[LayerName][nodeID][2] - this.flagPoint.y;\r\n        obj['sx']=this.nodeAllObj[LayerName][nodeID][3][4] != null?this.nodeAllObj[LayerName][nodeID][3][4]:1;\r\n        obj['sy']=this.nodeAllObj[LayerName][nodeID][3][5] != null?this.nodeAllObj[LayerName][nodeID][3][5]:1;\r\n        return obj;\r\n    },\r\n    getShadow: function (IDorN, LayerName) {\r\n        let obj=this.getMapNodeObj(IDorN, LayerName);\r\n        return new Proxy(obj, {\r\n            get: function (target, propKey, receiver) {\r\n                return target[propKey];\r\n            },\r\n            set:  (target, propKey, value, receiver)=> {\r\n                target[propKey] = value;\r\n                this.setMapLocation(target['id'], target,obj['LayerName']);\r\n                return true;\r\n            }\r\n        });\r\n    },\r\n    /****public****坐标更改******Bo 加等还是更改***/\r\n    setMapLocation: function (n, lObj, LayerName, Bo) {\r\n        let id = -1;\r\n        let mcBo = false;\r\n        let x = lObj['x'];\r\n        let y = lObj['y'];\r\n        let sx = lObj['sx'];\r\n        let sy = lObj['sy'];\r\n        if (n instanceof cc.Node) {\r\n            LayerName = newNode.mapLayerName;\r\n            if (n.bID != null) {\r\n                id = n.bID[0];\r\n            } else {\r\n                return;\r\n            }\r\n\r\n        } else {\r\n            id = n;\r\n        }\r\n        if (id == -1) {\r\n            return;\r\n        }\r\n        if (LayerName == null) {\r\n            for(let str in this.nodeAllObj){\r\n                if(this.nodeAllObj[str][id]!=null){\r\n                    LayerName=str;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (LayerName == null) { return; }\r\n        let i = -1;\r\n        if (this.LayerNodeObj[LayerName] != null) {\r\n            i = this.LayerNodeObj[LayerName].LayerArrID;\r\n        } else {\r\n            return;\r\n        }\r\n        if (typeof (this.nodeAllObj[LayerName][id][0]) != 'number') {\r\n            mcBo = true;\r\n        }\r\n        let node = this.showNodeObj[id];\r\n        let pw = this.layerRect[LayerName][1];\r\n        let ph = this.layerRect[LayerName][2];\r\n        if (x == null) { x = this.nodeAllObj[LayerName][id][1] - this.flagPoint.x; }\r\n        else if (Bo) { x = this.nodeAllObj[LayerName][id][1] - this.flagPoint.x + x; }\r\n        if (y == null) { y = this.nodeAllObj[LayerName][id][2] - this.flagPoint.y; }\r\n        else if (Bo) { y = this.nodeAllObj[LayerName][id][2] - this.flagPoint.y + y; }\r\n        let ix = this.nodeAllObj[LayerName][id][1] - this.flagPoint.x;\r\n        let iy = this.nodeAllObj[LayerName][id][2] - this.flagPoint.y;\r\n        let _this = this;\r\n        let ggBo = false;\r\n        let lx = this.nodeAllObj[LayerName][id][3][4] == null ? 1 : this.nodeAllObj[LayerName][id][3][4];\r\n        let ly = this.nodeAllObj[LayerName][id][3][5] == null ? 1 : this.nodeAllObj[LayerName][id][3][5];\r\n        if (sx != null && sx != lx) { ggBo = true; }\r\n        if (sy != null && sy != ly) { ggBo = true; }\r\n        if (x != ix || y != iy || ggBo) {\r\n            this.setStageNodeInfo(LayerName, id, pw, ph, true);\r\n            this.Info(LayerName, id, i, null, true);//清除地图中的信息\r\n            if (sx != null) { this.nodeAllObj[LayerName][id][3][4] = sx }\r\n            if (sy != null) { this.nodeAllObj[LayerName][id][3][5] = sy }\r\n            this.setNodeLocation(LayerName, id, x + _this.flagPoint.x, y + _this.flagPoint.y, node);\r\n\r\n            this.Info(LayerName, id, i, function (lx, ly, jx) {//添加地图中的信息\r\n                let stageRect = new cc.Rect(cc.view.getVisibleOrigin().x, cc.view.getVisibleOrigin().y, cc.view.getVisibleSize().width, cc.view.getVisibleSize().height);\r\n                let nXY = new cc.Vec2(jx.x - _this.flagPoint.x, jx.y - _this.flagPoint.y);\r\n                let rect = new cc.Rect(0, 0, jx.width * _this.node.scaleX, jx.height * _this.node.scaleY);\r\n                let dian = _this.LayerNodeObj[LayerName].convertToWorldSpaceAR(cc.v2(nXY.x, nXY.y));\r\n                rect.x = dian.x;\r\n                rect.y = dian.y * -1;\r\n                let r1 = rect;\r\n                let r2 = new cc.Rect(stageRect.x, stageRect.y - stageRect.height, stageRect.width, stageRect.height);\r\n                if ((r1.x + r1.width) <= r2.x || (r2.x + r2.width) <= r1.x || (r1.y + r1.height) <= r2.y || (r2.y + r2.height) <= r1.y) {//这里应该必要\r\n                    if (_this.showNodeObj[id] != null) {\r\n                        _this.killStageNode(LayerName, _this.showNodeObj[id], id, mcBo);\r\n                    }\r\n                } else {\r\n                    if (_this.showNodeObj[id] != null) {\r\n                        _this.showNodeObj[id].x = x;\r\n                        _this.showNodeObj[id].y = y;\r\n                        if (sx != null) {\r\n                            _this.showNodeObj[id].scaleX = sx;\r\n                        }\r\n                        if (sy != null) _this.showNodeObj[id].scaleY = sy;\r\n                        _this.setStageNodeInfo(LayerName, id, pw, ph, false);\r\n                    } else {\r\n                        if (_this.LayerNodeArr[i].parent != null) {\r\n                            _this.addNodeChildFun(_this.nodeAllObj[LayerName][id][0], x - _this.flagPoint.x, y - _this.flagPoint.y, i, id)\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    },\r\n    /********清除或清加舞台上地图信息*********/\r\n    setStageNodeInfo: function (LayerName, id, pw, ph, remBo) {\r\n        let node = this.showNodeObj[id];\r\n        if (node == null) { return; }\r\n        let yrect = node.bID[2];\r\n        let tx, ty, iw, ih;\r\n        if (remBo) {\r\n            ;\r\n            tx = node.MRect.x;\r\n            ty = node.MRect.y;\r\n            iw = node.MRect.width;\r\n            ih = node.MRect.height;\r\n        } else {\r\n            let r = this.getNodeRect(LayerName, id);\r\n            let nodeX = r.x;\r\n            let nodeY = r.y;\r\n            tx = (Math.floor(nodeX / pw));\r\n            ty = (Math.ceil(nodeY / ph));\r\n            iw = Math.floor(((r.width + nodeX - 1) / pw));\r\n            ih = Math.ceil((nodeY - r.height + 1) / ph);\r\n            // let nodeX = yrect.x+this.flagPoint.x;\r\n            // let nodeY = yrect.y+this.flagPoint.y;\r\n            // tx =(Math.floor(nodeX/(pw)));\r\n            // ty =(Math.ceil(nodeY/(ph)));\r\n            // iw =Math.floor(((yrect.width+ nodeX-1)/pw));\r\n            // ih =Math.ceil((nodeY-yrect.height+1)/(ph));\r\n            node.MRect = new cc.rect(tx, ty, iw, ih);\r\n        }\r\n        for (let xt = tx; xt <= iw; xt++) {\r\n            for (let yt = ty; yt >= ih; yt--) {//坐标相反倒序列相减\r\n                if (node != null) {\r\n                    if (remBo) {\r\n                        if (this.stageNodeObj[LayerName][((xt) * pw) + '-' + ((yt) * ph)] != null) {\r\n                            delete (this.stageNodeObj[LayerName][((xt) * pw) + '-' + ((yt) * ph)][id]);\r\n                        }\r\n                    } else {\r\n                        this.addStageNodeObjFun(LayerName, id, ((xt) * pw) + '-' + ((yt) * ph));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    /***********清除舞台上的Node****/\r\n    killStageNode: function (layerName, n, nodeID, mcBo) {\r\n        let arr = this.MapSprArr[n.bID[1][0]];\r\n        if (!mcBo) {\r\n            if (this.killSprite != null) {\r\n                this.killSprite(n, layerName);\r\n            }\r\n            n.parent = null;\r\n            n.opacity = 255;\r\n            arr[2][arr[2].length] = n;\r\n            let ctobj = arr[1];\r\n            delete (ctobj[nodeID]);\r\n        } else {\r\n\r\n            if (this.killYMovieClip != null) {\r\n                this.killYMovieClip(n, layerName);\r\n            }\r\n            this.mcPool[n.pid][\"pool\"][this.mcPool[n.pid][\"pool\"].length] = n;\r\n            delete (this.MapMcArr[nodeID]);\r\n            this.ymcFrameObj[nodeID] = [n.cFrame, this.ymcTimInt, n.stopBo, n.offBo];\r\n            let sy = this.ymcStageArr.indexOf(n);\r\n            if (sy != -1) {\r\n                this.ymcStageArr.splice(sy, 1);\r\n            }\r\n            n.parent = null;\r\n            //    n.removeThis();\r\n        }\r\n        delete (this.showNodeObj[nodeID]);\r\n        this.removeNodeParent(n, layerName);\r\n    },\r\n    /********返回两个矩形相交的部分********/\r\n    getIntersectsRectFun: function (rect1, rect2) {\r\n        let rect = new cc.Rect();\r\n        rect.x = rect1.x > rect2.x ? rect1.x : rect2.x;//X取最大\r\n        rect.y = rect1.y < rect2.y ? rect1.y : rect2.y;//Y取最小\r\n        let nw = (rect1.x + rect1.width) > (rect2.x + rect2.width) ? (rect2.x + rect2.width) : (rect1.x + rect1.width);\r\n        let nh = (rect1.y - rect1.height) < (rect2.y - rect2.height) ? (rect2.y - rect2.height) : (rect1.y - rect1.height);\r\n        rect.width = nw - rect.x;\r\n        rect.height = Math.abs(rect.y - nh);\r\n        return rect;\r\n    },\r\n    /******public****卸载地图Node 参数：ID或是图块Node*********/\r\n    removeMapNode: function (n) {\r\n        let id = null;\r\n        let nBo = false;\r\n        if (n instanceof cc.Node) {\r\n            if (n.bID == null) { return false }\r\n            id = n.bID[0];\r\n            nBo = true;\r\n        } else {\r\n            if (typeof (n) == 'number') {\r\n                id = n;\r\n            } else {\r\n                return false;\r\n            }\r\n            if (this.showNodeObj[id] != null) {\r\n                nBo = true;\r\n                n = this.showNodeObj[id];\r\n            }\r\n        }\r\n        let LayerName = null;\r\n        for (let str in this.nodeAllObj) {\r\n            if (this.nodeAllObj[str][id] != null) {\r\n                LayerName = str;\r\n                break;\r\n            }\r\n        }\r\n        if (LayerName == null) { return; }\r\n        let i = -1;\r\n        if (this.LayerNodeObj[LayerName] != null) {\r\n            i = this.LayerNodeObj[LayerName].LayerArrID;\r\n        } else {\r\n            return;\r\n        }\r\n        let mcBo = false;\r\n        if (nBo) {\r\n            if (this.showNodeObj[id] != null) {\r\n                let pw = this.layerRect[LayerName][1];\r\n                let ph = this.layerRect[LayerName][2];\r\n                let arr = this.MapSprArr[this.nodeAllObj[LayerName][id][0]];\r\n                if (n instanceof YMovieClip) {\r\n                    mcBo = true;\r\n                }\r\n                this.setStageNodeInfo(LayerName, id, pw, ph, true);\r\n                if (!mcBo) {\r\n                    let ctobj = arr[1];\r\n                    if (ctobj[id] != null) { delete (ctobj[id]); }\r\n                } else {\r\n                    if (this.MapMcArr[id] != null) { delete (this.MapMcArr[id]); }\r\n                    this.ymcFrameObj[id] = [n.cFrame, this.ymcTimInt, n.stopBo, n.offBo];\r\n                    let sy = this.ymcStageArr.indexOf(n);\r\n                    if (sy != -1) {\r\n                        this.ymcStageArr.splice(sy, 1);\r\n                    }\r\n                }\r\n                delete (this.showNodeObj[id]);\r\n            }\r\n        }\r\n        this.Info(LayerName, id, i, null, true);//清除地图中的信息\r\n        if (mcBo) { n.removeThis(); }\r\n    },\r\n    /**public*****通过名子得到图块的地图父节点，但需要地图父节点必须在场景加载过，否则反为null***/\r\n    getNodeParentByName: function (name) {\r\n        for (let str in this.nodeParentObj) {\r\n            if (this.nodeParentObj[str][0] == name) {\r\n                if (this.nodeParentObj[str].length >= 8) {\r\n                    return this.nodeParentObj[str][7];\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n    /**public*****通过图块得到其地图父节点，如果图没有地图父节点，则反为null,如果你确定该图块一定有地图父节点，也可以直接n.parent得到***/\r\n    getNodeParentBySprite: function (n) {\r\n        if (node._y_parent != null) {\r\n            return node._y_parent.parent;\r\n        }\r\n        return null;\r\n    },\r\n    getNodeRect: function (layerName, nodeID) {\r\n        let r = new cc.Rect(this.nodeAllObj[layerName][nodeID][1], this.nodeAllObj[layerName][nodeID][2]);\r\n        let id = this.nodeAllObj[layerName][nodeID][0];\r\n        let sx = 1;\r\n        let sy = 1;\r\n        if (this.nodeAllObj[layerName][nodeID].length >= 4) {\r\n            if (this.nodeAllObj[layerName][nodeID][3][0] != null) { r.x = this.nodeAllObj[layerName][nodeID][3][0]; }\r\n            if (this.nodeAllObj[layerName][nodeID][3][1] != null) { r.y = this.nodeAllObj[layerName][nodeID][3][1]; }\r\n            if (this.nodeAllObj[layerName][nodeID][3][4] != null) { sx = this.nodeAllObj[layerName][nodeID][3][4] }\r\n            if (this.nodeAllObj[layerName][nodeID][3][5] != null) { sy = this.nodeAllObj[layerName][nodeID][3][5] }\r\n        }\r\n        if (typeof (id) == 'number') {\r\n            r.width = this.MapSprArr[id][0][2] * sx;\r\n            r.height = this.MapSprArr[id][0][3] * sy;\r\n        } else {\r\n            let mr = this.ymcAllObj[this.ymcMapSprArr[id][0]][3];\r\n            r.x += mr.x;\r\n            r.y += mr.y;\r\n            r.width = mr.width * sx;\r\n            r.height = mr.height * sy;\r\n        }\r\n        return r;\r\n    },\r\n    /******地图坐标信息更改*******/\r\n    setNodeLocation: function (layerName, nodeID, x, y, node) {\r\n        let tx = x - this.nodeAllObj[layerName][nodeID][1];\r\n        let ty = y - this.nodeAllObj[layerName][nodeID][2];\r\n        this.nodeAllObj[layerName][nodeID][1] += tx;\r\n        this.nodeAllObj[layerName][nodeID][2] += ty;\r\n        if (this.nodeAllObj[layerName][nodeID].length >= 4) {\r\n            if (this.nodeAllObj[layerName][nodeID][3][0] != null) { this.nodeAllObj[layerName][nodeID][3][0] += tx; }\r\n            if (this.nodeAllObj[layerName][nodeID][3][1] != null) { this.nodeAllObj[layerName][nodeID][3][1] += ty; }\r\n        }\r\n        if (node != null) {\r\n            if (node.bID != null) {\r\n                node.bID[2].x += tx;\r\n                node.bID[2].y += ty;\r\n            }\r\n        }\r\n    },\r\n    /**********得到舞台上的显示对像***********/\r\n    isShow: function (id) {\r\n        if (this.showNodeObj[id] != null) {\r\n            return this.showNodeObj[id];\r\n        }\r\n        return null;\r\n    },\r\n    /******向地图添加信息*******/\r\n    Info: function (layerName, nodeID, i, fun, remBo) {\r\n        if (i == -1) {\r\n            for (let t = 0; t < this.LayerArr.length; t++) {\r\n                if (this.LayerArr[t]['LayerName'] == layerName) {\r\n                    i = t;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (i == -1) { return };\r\n        if (remBo == null) { remBo = false; }\r\n        let id = this.nodeAllObj[layerName][nodeID][0];\r\n        let r = this.getNodeRect(layerName, nodeID);\r\n        let pw = this.layerRect[layerName][1];\r\n        let ph = this.layerRect[layerName][2];\r\n        let nodeX = r.x;\r\n        let nodeY = r.y;\r\n        let tx = (Math.floor(nodeX / pw));\r\n        let ty = (Math.ceil(nodeY / ph));\r\n        let iw = Math.floor(((r.width + nodeX - 1) / pw));\r\n        let ih = Math.ceil((nodeY - r.height + 1) / ph);\r\n\r\n        let hitObj = this.isHit;\r\n        let hitStr = \"\";\r\n        if (typeof id == \"number\") {\r\n            if (this.MapSprArr[id] != null) {\r\n                hitStr = this.MapSprArr[id][0][0];\r\n            }\r\n        } else {\r\n            if (this.ymcMapSprArr[id] != null) {\r\n                hitStr = this.ymcMapSprArr[id][0];\r\n            }\r\n        }\r\n\r\n        for (let xt = tx; xt <= iw; xt++) {\r\n            for (let yt = ty; yt >= ih; yt--) {\r\n                let xn = (xt * pw).toString();\r\n                let yn = (yt * ph).toString();\r\n                if (!remBo) {\r\n                    if (this.LayerArr[i]['Position'][xn] == null) {\r\n                        this.LayerArr[i]['Position'][xn] = {};\r\n                    }\r\n                    if (this.LayerArr[i]['Position'][xn][yn] == null) {\r\n                        this.LayerArr[i]['Position'][xn][yn] = [];\r\n                    }\r\n                    this.LayerArr[i]['Position'][xn][yn].push(Number(nodeID));\r\n\r\n                    if (hitObj[hitStr]) {\r\n                        if (this.hitObj[xn] == null) this.hitObj[xn] = {};\r\n                        if (this.hitObj[xn][yn] == null) this.hitObj[xn][yn] = []\r\n                        this.hitObj[xn][yn].push({ x: r.x, y: r.y * -1, width: r.width, height: r.height, id: nodeID });\r\n                    }\r\n\r\n                } else {\r\n                    if (this.LayerArr[i]['Position'][xn] != null) {\r\n                        if (this.LayerArr[i]['Position'][xn][yn] != null) {\r\n                            let v = this.LayerArr[i]['Position'][xn][yn].indexOf(nodeID);\r\n                            if (v != -1) {\r\n                                this.LayerArr[i]['Position'][xn][yn].splice(v, 1);\r\n                            }\r\n                            if (this.hitObj[xn] != null && this.hitObj[xn][yn] != null) {\r\n                                for (let v = 0; v < this.hitObj[xn][yn].length; v++) {\r\n                                    if (this.hitObj[xn][yn][v]['id'] == nodeID) {\r\n                                        this.hitObj[xn][yn].splice(v, 1);\r\n                                        if (this.hitObj[xn][yn].length == 0) {\r\n                                            delete this.hitObj[xn][yn];\r\n                                        }\r\n                                        break;\r\n                                    }\r\n                                }\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (fun != null) { fun(xn, yn, r); }\r\n            }\r\n        }\r\n\r\n    },\r\n    /*****得到标标签******/\r\n    getTag: function (str) {\r\n        if (this.tagObj[str] != null) {\r\n            return this.tagObj[str];\r\n        } else {\r\n            return [];\r\n        }\r\n    },\r\n    /***导出寻路对像**/\r\n    onPath: function (pathObj) {\r\n        if (pathObj['pathObj'] == null) { return; }\r\n        let pobj = {};\r\n        for (let i = 0; i < pathObj['pathObj'].length; i++) {\r\n            pobj[pathObj['pathObj'][i][1] + \"*\" + pathObj['pathObj'][i][0]] = { 'x': pathObj['pathObj'][i][0], 'y': pathObj['pathObj'][i][1] }\r\n        }\r\n        pathObj['pathObj'] = pobj;\r\n        this.PathGridObj = pathObj;\r\n    },\r\n    set ols(v) {\r\n        this.onLoadSprite = olp;\r\n    },\r\n    set oLsp(v) {\r\n        this.onLoadSpriteParent = v;\r\n    },\r\n    set olymc(v) {\r\n        this.onLoadYMovieClip = v\r\n    },\r\n    /********当贴图加载完成执行********/\r\n    onLayerFun: function () {\r\n        // console.log(\"地图加载完了\")\r\n        //'闪影 个人版v0.9.0\r\n        this.hitObj = {};//新加属性\r\n        this.BGInit();\r\n        this.onLayerFun2();\r\n        let mcArr = this.MapObj['mcArr'];\r\n        this.ymcAllObj = {};\r\n        for (let str in mcArr) {\r\n            let arr = mcArr[str][0];\r\n            let zarr = [];\r\n            for (let t = 0; t < arr.length; t++) {\r\n                let tarr = [];\r\n                let carr = arr[t];\r\n                let l = carr[0];\r\n                for (let c = 1; c < carr.length; c++) {\r\n                    tarr[tarr.length] = carr[c];\r\n                }\r\n                for (let s = 0; s < l; s++) {\r\n                    zarr[zarr.length] = tarr;\r\n                }\r\n                this.ymcAllObj[str] = [zarr, mcArr[str][1], mcArr[str][2], new cc.Rect(mcArr[str][3][0], mcArr[str][3][1], mcArr[str][3][2], mcArr[str][3][3]), mcArr[str][4]];\r\n            }\r\n        }\r\n        for (let str in this.nodeAllObj) {\r\n            for (let i = 0; i < this.LayerArr.length; i++) {\r\n                if (this.LayerArr[i]['LayerName'] == str) {\r\n                    if (this.LayerArr[i]['Position'] == null) {\r\n                        this.LayerArr[i]['Position'] = {};\r\n                        for (let idStr in this.nodeAllObj[str]) {\r\n                            this.Info(str, idStr, i);\r\n                            if (this.nodeAllObj[str][idStr][3] == null) { this.nodeAllObj[str][idStr][3] = []; }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        let hitFun = function (arr, bo) {\r\n            for (let i = 0; i < arr.length; i++) {\r\n                if (arr[i]['pz'] != null) {\r\n                    let pzArr = {}\r\n                    for (let str in arr[i]['pz']) {\r\n                        if (arr[i]['pz'][str]) {\r\n                            if (bo) {\r\n                                pzArr[str] = {};\r\n                                pzArr[str]['offset'] = new cc.Vec2(arr[i]['pz'][str][0], arr[i]['pz'][str][1]);\r\n                                pzArr[str]['size'] = new cc.Size(arr[i]['pz'][str][2], arr[i]['pz'][str][3]);\r\n                            } else {\r\n                                pzArr[str] = {};\r\n                                pzArr[str]['points'] = [];\r\n                                for (let s = 0; s < arr[i]['pz'][str].length; s++) {\r\n                                    pzArr[str]['points'][pzArr[str]['points'].length] = new cc.Vec2(arr[i]['pz'][str][s][0], arr[i]['pz'][str][s][1]);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    arr[i]['pz'] = pzArr;\r\n                }\r\n            }\r\n        }\r\n        for (let yStr in this.ymcMapSprArr) {\r\n            let pzObj = this.ymcMapSprArr[yStr][1];\r\n            if (pzObj['Collider'] != null) { hitFun(pzObj['Collider'], true); }\r\n            if (pzObj['PolygonCollider'] != null) { hitFun(pzObj['PolygonCollider'], false); }\r\n        }\r\n        this.LayerNodeArr = new Array();\r\n        this.LayerNodeObj = {};\r\n        for (let i = 0; i < this.LayerArr.length; i++) {\r\n\r\n            let n = this.addNode(this.extend({ \"name\": this.LayerArr[i][\"LayerName\"], \"zIndex\": i * 100, \"parent\": this.node }, this.LayerArr[i][\"Pro\"]));\r\n            this.LayerNodeObj[this.LayerArr[i][\"LayerName\"]] = n;\r\n            this.LayerNodeArr[i] = n;//保存图层Node的数组\r\n            n.LayerArrID = i;\r\n        }\r\n        this.LoadBo = true;\r\n        if(this._showAllBo)\r\n        {\r\n            this.addAll();\r\n        }else{\r\n            this.setLocationFun(this.node.x, this.node.y);\r\n        }\r\n        if (this.cInit != null) { this.cInit(); this.cInit = null; }\r\n        window.hitObj = this.hitObj;\r\n\r\n        if (this.Init != null) { this.Init(); }\r\n    },\r\n});"]}