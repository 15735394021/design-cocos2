{"version":3,"sources":["assets\\script\\game.js"],"names":["requestUrl","cc","Class","Component","properties","noticeLabel","type","Label","onLoad","p","director","getPhysicsManager","enabled","gravity","v2","getCollisionManager","window","game","initialization","active","xhr","XMLHttpRequest","onreadystatechange","readyState","status","response","responseText","console","log","open","send","notice","message","x","y","node","getChildByName","opacity","noticePos","setPosition","overflow","Overflow","RESIZE_HEIGHT","_contentSize","width","string","noticeExit","openKnapsack","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\nconst requestUrl = \"http://47.104.80.127:8080/archives/queryArchives\"\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        noticeLabel:{\r\n            type:cc.Label,\r\n            default:null\r\n        }\r\n\r\n    },\r\n\r\n    onLoad () {\r\n        let p = cc.director.getPhysicsManager();\r\n        p.enabled = true;\r\n        p.gravity = cc.v2(0,0); \r\n        // p.debugDrawFlags = true;  //显示出来碰撞边框，为了方便演示\r\n        cc.director.getCollisionManager().enabled = true; //检测碰撞\r\n        // cc.director.getCollisionManager().enabledDebugDraw = true;//碰撞检测的边框显示\r\n\r\n        window.game = this;\r\n        this.initialization();//游戏开始的数据初始化\r\n\r\n        //通知提示的label初始化时active为false;\r\n        this.noticeLabel.active = false;\r\n    },\r\n\r\n    initialization(){   //进入游戏的个人数据初始化\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState == 4 && (xhr.status >= 200 && xhr.status < 400)) {\r\n                var response = xhr.responseText;\r\n                console.log(response);\r\n            }\r\n        };\r\n        xhr.open(\"GET\", requestUrl, true);\r\n        xhr.send();\r\n    },\r\n\r\n    notice(message,x,y){  //进入房间的提示“房间没有东西，按q退出”\r\n      this.node.getChildByName(\"map\").opacity = 30;\r\n      this.node.getChildByName(\"hero\").opacity = 30;\r\n      var noticePos = cc.v2(x,y);\r\n      this.noticeLabel.node.setPosition(noticePos);\r\n      this.noticeLabel.node.active = true;\r\n      this.noticeLabel.overflow = cc.Label.Overflow.RESIZE_HEIGHT;//自适应高度。文字狱热多，会扩展高度\r\n      this.noticeLabel.node._contentSize.width = 800;\r\n      this.noticeLabel.string = message+\"......  按'q'键退出\";\r\n    },\r\n\r\n    noticeExit(){   //按q键退出的处理\r\n      this.noticeLabel.active = false;\r\n      this.node.getChildByName(\"map\").opacity = 255;\r\n      this.node.getChildByName(\"hero\").opacity = 255;\r\n      this.noticeLabel.node.active = false;\r\n    },\r\n\r\n    openKnapsack(){   //打开背包\r\n\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}